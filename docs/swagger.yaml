basePath: /api/v1
definitions:
  cubeos-api_internal_hal.AllSensorsResponse:
    properties:
      1wire:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.OneWireDevice'
        type: array
      bme280:
        $ref: '#/definitions/cubeos-api_internal_hal.BME280Reading'
      extra:
        additionalProperties: true
        type: object
      timestamp:
        type: string
    type: object
  cubeos-api_internal_hal.AndroidTetheringStatus:
    properties:
      available:
        type: boolean
      connected:
        type: boolean
      gateway:
        type: string
      interface:
        type: string
      ip_address:
        type: string
    type: object
  cubeos-api_internal_hal.AudioDevice:
    properties:
      card:
        type: integer
      channels:
        type: integer
      device:
        type: integer
      index:
        type: integer
      name:
        type: string
      type:
        description: '"playback" or "capture"'
        type: string
    type: object
  cubeos-api_internal_hal.AudioDevicesResponse:
    properties:
      capture:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.AudioDevice'
        type: array
      playback:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.AudioDevice'
        type: array
    type: object
  cubeos-api_internal_hal.BME280Reading:
    properties:
      altitude:
        type: number
      altitude_unit:
        type: string
      available:
        type: boolean
      humidity:
        type: number
      humidity_unit:
        type: string
      i2c_address:
        type: string
      i2c_bus:
        type: integer
      pressure:
        type: number
      pressure_unit:
        type: string
      temp_unit:
        type: string
      temperature:
        type: number
      timestamp:
        type: string
    type: object
  cubeos-api_internal_hal.BatteryStatus:
    properties:
      ac_present:
        type: boolean
      available:
        type: boolean
      charging_enabled:
        type: boolean
      is_charging:
        type: boolean
      is_critical:
        type: boolean
      is_low:
        type: boolean
      last_updated:
        type: string
      percentage:
        type: number
      percentage_estimated:
        type: number
      percentage_raw:
        type: integer
      voltage:
        type: number
      voltage_raw:
        type: integer
    type: object
  cubeos-api_internal_hal.BluetoothDevice:
    properties:
      address:
        type: string
      class:
        type: string
      connected:
        type: boolean
      name:
        type: string
      paired:
        type: boolean
      rssi:
        type: integer
      trusted:
        type: boolean
    type: object
  cubeos-api_internal_hal.BluetoothDevicesResponse:
    properties:
      available:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.BluetoothDevice'
        type: array
      paired:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.BluetoothDevice'
        type: array
    type: object
  cubeos-api_internal_hal.BluetoothStatus:
    properties:
      address:
        type: string
      alias:
        type: string
      available:
        type: boolean
      discoverable:
        type: boolean
      name:
        type: string
      pairable:
        type: boolean
      powered:
        type: boolean
    type: object
  cubeos-api_internal_hal.BootConfig:
    properties:
      config:
        additionalProperties:
          type: string
        type: object
      raw:
        type: string
    type: object
  cubeos-api_internal_hal.CameraDevice:
    properties:
      driver:
        type: string
      index:
        type: integer
      name:
        type: string
      path:
        type: string
      resolutions:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_hal.CameraDevicesResponse:
    properties:
      cameras:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.CameraDevice'
        type: array
      count:
        type: integer
    type: object
  cubeos-api_internal_hal.CameraInfo:
    properties:
      available:
        type: boolean
      device:
        type: string
      driver:
        type: string
      name:
        type: string
    type: object
  cubeos-api_internal_hal.CellularModem:
    properties:
      access_tech:
        type: string
      equipment_id:
        type: string
      imei:
        type: string
      index:
        type: integer
      manufacturer:
        type: string
      model:
        type: string
      operator:
        type: string
      path:
        type: string
      power_state:
        type: string
      revision:
        type: string
      signal_quality:
        type: integer
      state:
        type: string
    type: object
  cubeos-api_internal_hal.CellularModemsResponse:
    properties:
      count:
        type: integer
      modems:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.CellularModem'
        type: array
    type: object
  cubeos-api_internal_hal.CellularSignal:
    properties:
      band:
        type: string
      bars:
        type: integer
      frequency:
        type: integer
      quality:
        type: integer
      rsrp:
        type: number
      rsrq:
        type: number
      rssi:
        type: number
      snr:
        type: number
      tech:
        type: string
    type: object
  cubeos-api_internal_hal.CellularStatus:
    properties:
      active_modem:
        type: string
      available:
        type: boolean
      connected:
        type: boolean
      modem_count:
        type: integer
      modems:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.CellularModem'
        type: array
    type: object
  cubeos-api_internal_hal.EEPROMInfo:
    properties:
      bootloader:
        type: string
      model:
        type: string
      revision:
        type: string
      serial:
        type: string
      version:
        type: string
      vl805:
        type: string
    type: object
  cubeos-api_internal_hal.FilesystemUsage:
    properties:
      avail_human:
        type: string
      available:
        type: integer
      filesystem:
        type: string
      mountpoint:
        type: string
      size:
        type: integer
      size_human:
        type: string
      use_percent:
        type: integer
      used:
        type: integer
      used_human:
        type: string
    type: object
  cubeos-api_internal_hal.GPIOPin:
    properties:
      active:
        type: boolean
      chip:
        type: string
      label:
        type: string
      mode:
        description: '"in" or "out"'
        type: string
      pin:
        type: integer
      value:
        type: integer
    type: object
  cubeos-api_internal_hal.GPSDevice:
    properties:
      active:
        type: boolean
      baud_rate:
        type: integer
      name:
        type: string
      port:
        type: string
      product:
        type: string
      vendor:
        type: string
    type: object
  cubeos-api_internal_hal.GPSDevicesResponse:
    properties:
      count:
        type: integer
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.GPSDevice'
        type: array
    type: object
  cubeos-api_internal_hal.GPSPosition:
    properties:
      altitude:
        type: number
      course:
        type: number
      fix_quality:
        type: integer
      hdop:
        type: number
      latitude:
        type: number
      longitude:
        type: number
      satellites:
        type: integer
      speed:
        type: number
      timestamp:
        type: string
      valid:
        type: boolean
    type: object
  cubeos-api_internal_hal.GPSStatus:
    properties:
      available:
        type: boolean
      fix_quality:
        type: string
      has_fix:
        type: boolean
      hdop:
        type: number
      last_update:
        type: string
      satellites:
        type: integer
    type: object
  cubeos-api_internal_hal.HardwareLogsResponse:
    properties:
      category:
        type: string
      count:
        type: integer
      entries:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_hal.I2CBus:
    properties:
      active:
        type: boolean
      bus:
        type: integer
      path:
        type: string
    type: object
  cubeos-api_internal_hal.I2CDevice:
    properties:
      address:
        type: integer
      bus:
        type: integer
      name:
        type: string
    type: object
  cubeos-api_internal_hal.I2CScanResult:
    properties:
      addresses:
        items:
          type: integer
        type: array
      bus:
        type: integer
      count:
        type: integer
    type: object
  cubeos-api_internal_hal.IridiumMessage:
    properties:
      binary:
        type: boolean
      data:
        type: string
      length:
        type: integer
      mtmsn:
        type: integer
      timestamp:
        type: string
    type: object
  cubeos-api_internal_hal.IridiumMessagesResponse:
    properties:
      count:
        type: integer
      messages:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.IridiumMessage'
        type: array
    type: object
  cubeos-api_internal_hal.IridiumSignal:
    properties:
      bars:
        type: integer
      quality:
        type: integer
      status:
        type: string
    type: object
  cubeos-api_internal_hal.IridiumStatus:
    properties:
      available:
        type: boolean
      connected:
        type: boolean
      imei:
        type: string
      last_contact:
        type: string
      mo_queue:
        type: integer
      mt_queue:
        type: integer
      network_time:
        type: string
      registered:
        type: boolean
      signal_quality:
        type: integer
    type: object
  cubeos-api_internal_hal.LogsResponse:
    properties:
      count:
        type: integer
      lines:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_hal.MeshtasticDevice:
    properties:
      connected:
        type: boolean
      firmware:
        type: string
      hw_model:
        type: string
      long_name:
        type: string
      name:
        type: string
      node_id:
        type: string
      port:
        type: string
      short_name:
        type: string
    type: object
  cubeos-api_internal_hal.MeshtasticNode:
    properties:
      altitude:
        type: number
      battery_level:
        type: integer
      hops:
        type: integer
      hw_model:
        type: string
      last_heard:
        type: string
      latitude:
        type: number
      long_name:
        type: string
      longitude:
        type: number
      node_id:
        type: string
      short_name:
        type: string
      snr:
        type: number
    type: object
  cubeos-api_internal_hal.MeshtasticNodesResponse:
    properties:
      count:
        type: integer
      nodes:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.MeshtasticNode'
        type: array
    type: object
  cubeos-api_internal_hal.MeshtasticStatus:
    properties:
      available:
        type: boolean
      channel_url:
        type: string
      connected:
        type: boolean
      device:
        $ref: '#/definitions/cubeos-api_internal_hal.MeshtasticDevice'
      node_count:
        type: integer
    type: object
  cubeos-api_internal_hal.MountInfo:
    properties:
      error:
        type: string
      local_path:
        type: string
      mounted:
        type: boolean
      name:
        type: string
      remote_path:
        type: string
      type:
        description: '"smb" or "nfs"'
        type: string
    type: object
  cubeos-api_internal_hal.MountResponse:
    properties:
      message:
        type: string
      mount_path:
        type: string
      success:
        type: boolean
    type: object
  cubeos-api_internal_hal.MountsResponse:
    properties:
      count:
        type: integer
      mounts:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.MountInfo'
        type: array
    type: object
  cubeos-api_internal_hal.OneWireDevice:
    properties:
      family:
        type: string
      id:
        type: string
      path:
        type: string
      temperature:
        type: number
      type:
        type: string
      unit:
        type: string
      valid:
        type: boolean
    type: object
  cubeos-api_internal_hal.PowerStatus:
    properties:
      battery:
        $ref: '#/definitions/cubeos-api_internal_hal.BatteryStatus'
      last_updated:
        type: string
      rtc:
        $ref: '#/definitions/cubeos-api_internal_hal.RTCStatus'
      ups:
        $ref: '#/definitions/cubeos-api_internal_hal.UPSInfo'
      uptime:
        $ref: '#/definitions/cubeos-api_internal_hal.UptimeInfo'
      watchdog:
        $ref: '#/definitions/cubeos-api_internal_hal.WatchdogInfo'
    type: object
  cubeos-api_internal_hal.RTCStatus:
    properties:
      available:
        type: boolean
      battery_ok:
        type: boolean
      device:
        type: string
      synchronized:
        type: boolean
      time:
        type: string
    type: object
  cubeos-api_internal_hal.SMARTInfo:
    properties:
      attributes:
        additionalProperties: true
        type: object
      device:
        type: string
      health:
        type: string
      power_on_hours:
        type: integer
      smart:
        type: string
      temperature:
        type: integer
      type:
        type: string
    type: object
  cubeos-api_internal_hal.ServiceStatus:
    properties:
      active:
        type: boolean
      active_state:
        type: string
      description:
        type: string
      enabled:
        type: boolean
      load_state:
        type: string
      main_pid:
        type: integer
      name:
        type: string
      running:
        type: boolean
      sub_state:
        type: string
    type: object
  cubeos-api_internal_hal.StorageDevice:
    properties:
      model:
        type: string
      name:
        type: string
      partitions:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.StorageDevice'
        type: array
      path:
        type: string
      removable:
        type: boolean
      serial:
        type: string
      size:
        type: integer
      size_human:
        type: string
      type:
        type: string
      vendor:
        type: string
    type: object
  cubeos-api_internal_hal.StorageDevicesResponse:
    properties:
      count:
        type: integer
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.StorageDevice'
        type: array
    type: object
  cubeos-api_internal_hal.StorageUsageResponse:
    properties:
      filesystems:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.FilesystemUsage'
        type: array
    type: object
  cubeos-api_internal_hal.StreamInfo:
    properties:
      active:
        type: boolean
      format:
        type: string
      framerate:
        type: integer
      height:
        type: integer
      port:
        type: integer
      url:
        type: string
      width:
        type: integer
    type: object
  cubeos-api_internal_hal.TemperatureResponse:
    properties:
      source:
        type: string
      temperature:
        type: number
      unit:
        type: string
    type: object
  cubeos-api_internal_hal.ThrottleStatus:
    properties:
      arm_frequency_capped_now:
        type: boolean
      arm_frequency_capped_occurred:
        type: boolean
      currently_throttled:
        type: boolean
      raw_hex:
        type: string
      soft_temperature_limit_now:
        type: boolean
      soft_temperature_limit_occurred:
        type: boolean
      throttled_now:
        type: boolean
      under_voltage_now:
        type: boolean
      under_voltage_occurred:
        type: boolean
    type: object
  cubeos-api_internal_hal.UPSInfo:
    properties:
      chip_version:
        type: integer
      detected:
        type: boolean
      fuel_gauge:
        type: string
      gpio_chip:
        type: string
      i2c_address:
        type: string
      i2c_bus:
        type: integer
      model:
        type: string
      pi_version:
        type: integer
    type: object
  cubeos-api_internal_hal.USBDevice:
    properties:
      bus:
        type: integer
      class:
        type: string
      device:
        type: integer
      device_id:
        type: string
      product:
        type: string
      serial:
        type: string
      vendor:
        type: string
      vendor_id:
        type: string
    type: object
  cubeos-api_internal_hal.USBDevicesResponse:
    properties:
      count:
        type: integer
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.USBDevice'
        type: array
    type: object
  cubeos-api_internal_hal.USBStorageDevice:
    properties:
      model:
        type: string
      mount_point:
        type: string
      mounted:
        type: boolean
      name:
        type: string
      path:
        type: string
      size:
        type: integer
      size_human:
        type: string
      vendor:
        type: string
    type: object
  cubeos-api_internal_hal.UptimeInfo:
    properties:
      boot_time:
        type: string
      formatted:
        type: string
      load_average:
        items:
          type: number
        type: array
      seconds:
        type: number
    type: object
  cubeos-api_internal_hal.VolumeInfo:
    properties:
      muted:
        type: boolean
      volume:
        type: integer
    type: object
  cubeos-api_internal_hal.WatchdogInfo:
    properties:
      device:
        type: string
      enabled:
        type: boolean
      timeout:
        type: integer
    type: object
  cubeos-api_internal_managers.APConfig:
    properties:
      channel:
        type: integer
      hidden:
        type: boolean
      password:
        type: string
      ssid:
        type: string
    type: object
  cubeos-api_internal_managers.AccessPointStatus:
    properties:
      channel:
        type: integer
      clients:
        type: integer
      hidden:
        description: V2
        type: boolean
      interface:
        type: string
      ssid:
        type: string
    type: object
  cubeos-api_internal_managers.CreateMountRequest:
    properties:
      auto_mount:
        type: boolean
      name:
        type: string
      options:
        type: string
      password:
        type: string
      remote_path:
        type: string
      type:
        description: '"smb" or "nfs"'
        type: string
      username:
        type: string
    type: object
  cubeos-api_internal_managers.DNSConfig:
    properties:
      dns_servers:
        items:
          type: string
        type: array
      primary_dns:
        type: string
      search_domain:
        type: string
      secondary_dns:
        type: string
    type: object
  cubeos-api_internal_managers.DiskHealth:
    properties:
      attributes:
        items:
          $ref: '#/definitions/cubeos-api_internal_managers.SMARTAttribute'
        type: array
      capacity:
        type: string
      capacity_bytes:
        type: integer
      device:
        type: string
      firmware:
        type: string
      health:
        description: PASSED, FAILED, UNKNOWN
        type: string
      last_checked:
        type: string
      model:
        type: string
      power_cycles:
        type: integer
      power_on_hours:
        type: integer
      raw:
        additionalProperties: true
        type: object
      serial:
        type: string
      smart_enabled:
        type: boolean
      temperature:
        type: integer
      type:
        description: HDD, SSD, NVMe
        type: string
      warnings:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_managers.NPMMeta:
    properties:
      dns_challenge:
        type: boolean
      letsencrypt_agree:
        type: boolean
    type: object
  cubeos-api_internal_managers.NPMProxyHostExtended:
    properties:
      access_list_id:
        type: integer
      advanced_config:
        type: string
      allow_websocket_upgrade:
        type: boolean
      block_exploits:
        type: boolean
      caching_enabled:
        type: boolean
      certificate_id:
        type: integer
      created_on:
        type: string
      domain_names:
        items:
          type: string
        type: array
      enabled:
        type: boolean
      forward_host:
        type: string
      forward_port:
        type: integer
      forward_scheme:
        type: string
      hsts_enabled:
        type: boolean
      hsts_subdomains:
        type: boolean
      http2_support:
        type: boolean
      id:
        type: integer
      locations:
        items: {}
        type: array
      meta:
        $ref: '#/definitions/cubeos-api_internal_managers.NPMMeta'
      modified_on:
        type: string
      ssl_forced:
        type: boolean
    type: object
  cubeos-api_internal_managers.NetworkStatus:
    properties:
      ap:
        $ref: '#/definitions/cubeos-api_internal_managers.AccessPointStatus'
      fallback_ip:
        description: 'V2: For SERVER modes'
        type: string
      gateway_ip:
        type: string
      internet:
        type: boolean
      is_server:
        description: 'V2: True for SERVER_* modes'
        type: boolean
      mode:
        $ref: '#/definitions/cubeos-api_internal_models.NetworkMode'
      public_ip:
        description: V2
        type: string
      subnet:
        type: string
      upstream:
        $ref: '#/definitions/cubeos-api_internal_managers.UpstreamStatus'
      vpn_active:
        description: V2
        type: boolean
      vpn_config:
        description: 'V2: Active config name'
        type: string
      vpn_mode:
        allOf:
        - $ref: '#/definitions/cubeos-api_internal_models.VPNMode'
        description: V2
    type: object
  cubeos-api_internal_managers.SMARTAttribute:
    properties:
      failing:
        type: boolean
      id:
        type: integer
      name:
        type: string
      raw_value:
        type: string
      threshold:
        type: integer
      type:
        description: pre-fail, old-age
        type: string
      value:
        type: integer
      worst:
        type: integer
    type: object
  cubeos-api_internal_managers.SMBShare:
    properties:
      browseable:
        type: boolean
      comment:
        type: string
      create_mask:
        type: string
      dir_mask:
        type: string
      force_group:
        type: string
      force_user:
        type: string
      guest_ok:
        type: boolean
      name:
        type: string
      path:
        type: string
      read_only:
        type: boolean
      valid_users:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_managers.UpstreamStatus:
    properties:
      gateway:
        type: string
      interface:
        type: string
      ip:
        type: string
      ssid:
        type: string
      type:
        description: '"ethernet" or "wifi"'
        type: string
    type: object
  cubeos-api_internal_models.App:
    properties:
      category:
        type: string
      compose_path:
        type: string
      created_at:
        type: string
      data_path:
        type: string
      deploy_mode:
        $ref: '#/definitions/cubeos-api_internal_models.DeployMode'
      description:
        type: string
      display_name:
        description: Human-readable name
        type: string
      enabled:
        type: boolean
      fqdns:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.FQDN'
        type: array
      homepage:
        type: string
      icon_url:
        type: string
      id:
        type: integer
      name:
        description: Stack name (lowercase, no spaces)
        type: string
      ports:
        description: Related data (loaded separately, not from main table)
        items:
          $ref: '#/definitions/cubeos-api_internal_models.Port'
        type: array
      source:
        $ref: '#/definitions/cubeos-api_internal_models.AppSource'
      status:
        allOf:
        - $ref: '#/definitions/cubeos-api_internal_models.AppStatus'
        description: Runtime status from Swarm (not persisted)
      store_id:
        type: string
      tor_enabled:
        type: boolean
      type:
        $ref: '#/definitions/cubeos-api_internal_models.AppType'
      updated_at:
        type: string
      version:
        type: string
      vpn_enabled:
        type: boolean
    type: object
  cubeos-api_internal_models.AppActionRequest:
    properties:
      action:
        description: start, stop, restart, remove
        type: string
    type: object
  cubeos-api_internal_models.AppContainer:
    properties:
      created:
        type: integer
      id:
        type: string
      image:
        type: string
      name:
        type: string
      state:
        type: string
      status:
        type: string
    type: object
  cubeos-api_internal_models.AppInstallRequest:
    properties:
      app_name:
        type: string
      env_overrides:
        additionalProperties:
          type: string
        type: object
      port_overrides:
        additionalProperties:
          type: integer
        type: object
      store_id:
        type: string
      title:
        type: string
      volume_overrides:
        additionalProperties:
          type: string
        type: object
    type: object
  cubeos-api_internal_models.AppSource:
    enum:
    - cubeos
    - casaos
    - custom
    type: string
    x-enum-comments:
      AppSourceCasaOS: Installed from CasaOS store
      AppSourceCubeOS: Built-in CubeOS apps
      AppSourceCustom: Custom docker-compose
    x-enum-descriptions:
    - Built-in CubeOS apps
    - Installed from CasaOS store
    - Custom docker-compose
    x-enum-varnames:
    - AppSourceCubeOS
    - AppSourceCasaOS
    - AppSourceCustom
  cubeos-api_internal_models.AppStatus:
    properties:
      error:
        type: string
      health:
        description: healthy, unhealthy, starting, stopped, unknown
        type: string
      last_started:
        type: string
      replicas:
        type: string
      running:
        type: boolean
    type: object
  cubeos-api_internal_models.AppStore:
    properties:
      app_count:
        type: integer
      author:
        type: string
      created_at:
        type: string
      description:
        type: string
      enabled:
        type: boolean
      id:
        type: string
      last_sync:
        type: string
      name:
        type: string
      url:
        type: string
    type: object
  cubeos-api_internal_models.AppType:
    enum:
    - system
    - platform
    - network
    - ai
    - user
    type: string
    x-enum-comments:
      AppTypeAI: Ollama, ChromaDB
      AppTypeNetwork: VPN, Tor
      AppTypePlatform: CubeOS services (api, dashboard, dozzle)
      AppTypeSystem: Infrastructure (pihole, npm, registry)
      AppTypeUser: User-installed apps
    x-enum-descriptions:
    - Infrastructure (pihole, npm, registry)
    - CubeOS services (api, dashboard, dozzle)
    - VPN, Tor
    - Ollama, ChromaDB
    - User-installed apps
    x-enum-varnames:
    - AppTypeSystem
    - AppTypePlatform
    - AppTypeNetwork
    - AppTypeAI
    - AppTypeUser
  cubeos-api_internal_models.ApplyProfileRequest:
    properties:
      additional_services:
        items:
          type: string
        type: array
      excluded_services:
        items:
          type: string
        type: array
      profile_id:
        type: string
    type: object
  cubeos-api_internal_models.ApplyProfileResponse:
    properties:
      disabled_services:
        items:
          type: string
        type: array
      enabled_services:
        items:
          type: string
        type: array
      message:
        type: string
      profile:
        type: string
      started:
        items:
          type: string
        type: array
      stopped:
        items:
          type: string
        type: array
      success:
        description: Backward compatibility fields (used by wizard.go)
        type: boolean
      total_ram_mb:
        type: integer
    type: object
  cubeos-api_internal_models.BackupCreateRequest:
    properties:
      compress:
        type: boolean
      description:
        type: string
      include_docker_volumes:
        type: boolean
      type:
        type: string
    type: object
  cubeos-api_internal_models.BackupInfo:
    properties:
      compressed:
        type: boolean
      created_at:
        type: string
      description:
        type: string
      filename:
        type: string
      id:
        type: string
      includes:
        items:
          type: string
        type: array
      size_bytes:
        type: integer
      size_human:
        type: string
      type:
        type: string
    type: object
  cubeos-api_internal_models.BackupListResponse:
    properties:
      backups:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.BackupInfo'
        type: array
      total_count:
        type: integer
      total_size_bytes:
        type: integer
    type: object
  cubeos-api_internal_models.CasaOSManifest:
    properties:
      name:
        type: string
      networks:
        additionalProperties: true
        type: object
      services:
        additionalProperties:
          $ref: '#/definitions/cubeos-api_internal_models.ComposeService'
        type: object
      version:
        type: string
      volumes:
        additionalProperties: true
        type: object
      xcasaOS:
        $ref: '#/definitions/cubeos-api_internal_models.XCasaOSApp'
    type: object
  cubeos-api_internal_models.ChangePasswordRequest:
    properties:
      current_password:
        type: string
      new_password:
        type: string
    type: object
  cubeos-api_internal_models.ComposeService:
    properties:
      capAdd:
        items:
          type: string
        type: array
      command: {}
      containerName:
        type: string
      dependsOn: {}
      deploy:
        additionalProperties: true
        type: object
      devices:
        items:
          type: string
        type: array
      entrypoint: {}
      environment: {}
      healthcheck:
        additionalProperties: true
        type: object
      hostname:
        type: string
      image:
        type: string
      labels:
        additionalProperties:
          type: string
        type: object
      networkMode:
        type: string
      ports:
        items: {}
        type: array
      privileged:
        type: boolean
      restart:
        type: string
      volumes:
        items: {}
        type: array
      xcasaOS:
        $ref: '#/definitions/cubeos-api_internal_models.XCasaOSService'
    type: object
  cubeos-api_internal_models.ContainerLogsResponse:
    properties:
      container:
        type: string
      count:
        type: integer
      entries:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_models.CreateProfileRequest:
    properties:
      description:
        type: string
      display_name:
        type: string
      name:
        type: string
    type: object
  cubeos-api_internal_models.DeployMode:
    enum:
    - stack
    - compose
    type: string
    x-enum-comments:
      DeployModeCompose: docker-compose (for host network services)
      DeployModeStack: Docker Swarm stack
    x-enum-descriptions:
    - Docker Swarm stack
    - docker-compose (for host network services)
    x-enum-varnames:
    - DeployModeStack
    - DeployModeCompose
  cubeos-api_internal_models.ErrorResponse:
    description: API error response
    properties:
      code:
        type: integer
      detail:
        type: string
      error:
        type: string
    type: object
  cubeos-api_internal_models.FQDN:
    properties:
      app_id:
        type: integer
      backend_port:
        type: integer
      created_at:
        type: string
      fqdn:
        type: string
      id:
        type: integer
      npm_proxy_id:
        type: integer
      ssl_enabled:
        type: boolean
      subdomain:
        type: string
    type: object
  cubeos-api_internal_models.HealthResponse:
    properties:
      status:
        type: string
      timestamp:
        type: string
      uptime_seconds:
        type: number
      version:
        type: string
    type: object
  cubeos-api_internal_models.InstallAppRequest:
    properties:
      casaos_json:
        description: For CasaOS imports
        type: string
      category:
        type: string
      compose_path:
        description: If empty, will be generated
        type: string
      deploy_mode:
        allOf:
        - $ref: '#/definitions/cubeos-api_internal_models.DeployMode'
        description: stack or compose
      description:
        type: string
      display_name:
        type: string
      homepage:
        type: string
      icon_url:
        type: string
      name:
        type: string
      source:
        $ref: '#/definitions/cubeos-api_internal_models.AppSource'
      store_id:
        type: string
      type:
        $ref: '#/definitions/cubeos-api_internal_models.AppType'
    type: object
  cubeos-api_internal_models.InstalledApp:
    properties:
      category:
        type: string
      containers:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.AppContainer'
        type: array
      data_path:
        type: string
      description:
        type: string
      icon:
        type: string
      id:
        type: string
      installed_at:
        type: string
      name:
        type: string
      status:
        type: string
      store_app_id:
        type: string
      store_id:
        type: string
      title:
        type: string
      update_available:
        type: boolean
      updated_at:
        type: string
      version:
        type: string
      webui:
        type: string
    type: object
  cubeos-api_internal_models.LogEntry:
    properties:
      hostname:
        type: string
      message:
        type: string
      pid:
        type: integer
      priority:
        type: string
      timestamp:
        type: string
      unit:
        type: string
    type: object
  cubeos-api_internal_models.LogUnitsResponse:
    properties:
      count:
        type: integer
      units:
        items:
          type: string
        type: array
    type: object
  cubeos-api_internal_models.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    type: object
  cubeos-api_internal_models.LoginResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
      user:
        properties:
          role:
            type: string
          username:
            type: string
        type: object
    type: object
  cubeos-api_internal_models.LogsResponse:
    properties:
      count:
        type: integer
      entries:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.LogEntry'
        type: array
    type: object
  cubeos-api_internal_models.Mount:
    properties:
      auto_mount:
        type: boolean
      created_at:
        type: string
      id:
        type: integer
      is_mounted:
        type: boolean
      local_path:
        type: string
      name:
        type: string
      options:
        type: string
      remote_path:
        type: string
      type:
        $ref: '#/definitions/cubeos-api_internal_models.MountType'
      username:
        type: string
    type: object
  cubeos-api_internal_models.MountType:
    enum:
    - smb
    - nfs
    type: string
    x-enum-varnames:
    - MountTypeSMB
    - MountTypeNFS
  cubeos-api_internal_models.NetworkConfig:
    properties:
      ap_channel:
        type: integer
      ap_hidden:
        type: boolean
      ap_ssid:
        description: Access Point configuration
        type: string
      dhcp_range_end:
        type: string
      dhcp_range_start:
        type: string
      eth_interface:
        description: Interfaces
        type: string
      fallback_static_ip:
        description: Server mode fallback
        type: string
      gateway_ip:
        description: DHCP server configuration (for AP modes)
        type: string
      id:
        type: integer
      mode:
        $ref: '#/definitions/cubeos-api_internal_models.NetworkMode'
      server_mode_warning_dismissed:
        description: UX state
        type: boolean
      subnet:
        type: string
      updated_at:
        type: string
      vpn_config_id:
        type: integer
      vpn_mode:
        allOf:
        - $ref: '#/definitions/cubeos-api_internal_models.VPNMode'
        description: VPN overlay
      wifi_ap_interface:
        type: string
      wifi_client_interface:
        type: string
      wifi_ssid:
        description: WiFi client credentials (for online_wifi and server_wifi)
        type: string
    type: object
  cubeos-api_internal_models.NetworkMode:
    enum:
    - offline
    - online_eth
    - online_wifi
    - server_eth
    - server_wifi
    type: string
    x-enum-comments:
      NetworkModeOffline: AP only, no internet
      NetworkModeOnlineETH: AP + NAT via eth0
      NetworkModeOnlineWiFi: AP + NAT via USB dongle
      NetworkModeServerETH: No AP, eth0 DHCP client
      NetworkModeServerWiFi: No AP, wlan0 WiFi client
    x-enum-descriptions:
    - AP only, no internet
    - AP + NAT via eth0
    - AP + NAT via USB dongle
    - No AP, eth0 DHCP client
    - No AP, wlan0 WiFi client
    x-enum-varnames:
    - NetworkModeOffline
    - NetworkModeOnlineETH
    - NetworkModeOnlineWiFi
    - NetworkModeServerETH
    - NetworkModeServerWiFi
  cubeos-api_internal_models.Port:
    properties:
      app_id:
        type: integer
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      is_primary:
        type: boolean
      port:
        type: integer
      protocol:
        type: string
    type: object
  cubeos-api_internal_models.Preferences:
    properties:
      adminExpanded:
        type: boolean
      collapsedCategories:
        items:
          type: string
        type: array
      favorites:
        items:
          type: string
        type: array
      recentServices:
        items:
          type: string
        type: array
      setupComplete:
        type: boolean
      theme:
        type: string
      tourComplete:
        type: boolean
    type: object
  cubeos-api_internal_models.PreferencesUpdate:
    properties:
      adminExpanded:
        type: boolean
      collapsedCategories:
        items:
          type: string
        type: array
      favorites:
        items:
          type: string
        type: array
      recentServices:
        items:
          type: string
        type: array
      setupComplete:
        type: boolean
      theme:
        type: string
      tourComplete:
        type: boolean
    type: object
  cubeos-api_internal_models.ProcessInfo:
    properties:
      cmdline:
        type: string
      cpu_percent:
        type: number
      memory_percent:
        type: number
      memory_rss:
        type: integer
      name:
        type: string
      num_threads:
        type: integer
      pid:
        type: integer
      status:
        type: string
      username:
        type: string
    type: object
  cubeos-api_internal_models.ProcessListResponse:
    properties:
      processes:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.ProcessInfo'
        type: array
      sort_by:
        type: string
      total_count:
        type: integer
    type: object
  cubeos-api_internal_models.Profile:
    properties:
      apps:
        description: Related data
        items:
          $ref: '#/definitions/cubeos-api_internal_models.ProfileApp'
        type: array
      created_at:
        type: string
      description:
        type: string
      display_name:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      is_system:
        type: boolean
      name:
        type: string
      updated_at:
        type: string
    type: object
  cubeos-api_internal_models.ProfileApp:
    properties:
      app_id:
        type: integer
      app_name:
        description: Joined from apps table
        type: string
      enabled:
        type: boolean
      profile_id:
        type: integer
    type: object
  cubeos-api_internal_models.ServiceAction:
    properties:
      action:
        description: start, stop, restart, enable, disable
        type: string
      message:
        type: string
      ram_freed_mb:
        type: integer
      service:
        type: string
      status:
        type: string
      success:
        type: boolean
    type: object
  cubeos-api_internal_models.SetupConfig:
    properties:
      accent_color:
        description: hex color
        type: string
      admin_email:
        type: string
      admin_password:
        type: string
      admin_username:
        description: 'Step 1: Admin Account'
        type: string
      base_domain:
        description: e.g., home.example.com
        type: string
      branding_mode:
        description: cubeos, custom
        type: string
      deployment_purpose:
        description: 'Step 6: Deployment Purpose'
        type: string
      device_name:
        description: Human-friendly name
        type: string
      dns_api_secret:
        description: Additional secret if needed
        type: string
      dns_api_token:
        description: API token/key
        type: string
      dns_provider:
        description: 'Step 8: DNS Provider (for Let''s Encrypt DNS-01)'
        type: string
      enable_analytics:
        description: 'Step 10: Optional Features'
        type: boolean
      enable_auto_updates:
        description: Automatic security updates
        type: boolean
      enable_remote_access:
        description: WireGuard VPN setup
        type: boolean
      hostname:
        description: 'Step 2: Device Identity'
        type: string
      language:
        description: e.g., "en", "es", "de"
        type: string
      locale:
        description: e.g., "en_US", "es_ES"
        type: string
      npm_admin_email:
        description: 'Step 9: NPM Credentials (for reverse proxy admin)'
        type: string
      npm_admin_password:
        type: string
      ssl_mode:
        description: 'Step 7: SSL/TLS Configuration'
        type: string
      theme:
        description: 'Step 5: Appearance'
        type: string
      timezone:
        description: 'Step 4: Localization'
        type: string
      wifi_channel:
        description: 1-11, default 6
        type: integer
      wifi_password:
        type: string
      wifi_ssid:
        description: 'Step 3: Network - WiFi AP'
        type: string
    type: object
  cubeos-api_internal_models.SetupStatus:
    properties:
      completed_at:
        type: string
      completed_steps:
        items:
          type: string
        type: array
      current_step:
        type: integer
      is_complete:
        type: boolean
      skipped_steps:
        items:
          type: string
        type: array
      started_at:
        type: string
      total_steps:
        type: integer
    type: object
  cubeos-api_internal_models.SetupValidation:
    properties:
      errors:
        additionalProperties:
          type: string
        type: object
      valid:
        type: boolean
      warnings:
        additionalProperties:
          type: string
        type: object
    type: object
  cubeos-api_internal_models.StatsHistoryResponse:
    properties:
      count:
        type: integer
      history:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.StatsSnapshot'
        type: array
    type: object
  cubeos-api_internal_models.StatsSnapshot:
    properties:
      cpu_percent:
        type: number
      memory_percent:
        type: number
      temperature:
        type: number
      timestamp:
        type: string
    type: object
  cubeos-api_internal_models.StoreApp:
    properties:
      architectures:
        items:
          type: string
        type: array
      author:
        type: string
      category:
        type: string
      description:
        additionalProperties:
          type: string
        type: object
      icon:
        type: string
      id:
        type: string
      index:
        type: string
      installed:
        type: boolean
      main_service:
        type: string
      name:
        type: string
      port_map:
        type: string
      scheme:
        type: string
      screenshots:
        items:
          type: string
        type: array
      store_id:
        type: string
      tagline:
        additionalProperties:
          type: string
        type: object
      tips:
        additionalProperties:
          type: string
        type: object
      title:
        additionalProperties:
          type: string
        type: object
      version:
        type: string
    type: object
  cubeos-api_internal_models.SuccessResponse:
    properties:
      message:
        type: string
      status:
        type: string
    type: object
  cubeos-api_internal_models.SystemInfo:
    properties:
      architecture:
        type: string
      boot_time:
        type: string
      cpu_cores:
        type: integer
      cpu_model:
        type: string
      hostname:
        type: string
      ip_addresses:
        additionalProperties:
          type: string
        type: object
      kernel:
        type: string
      mac_addresses:
        additionalProperties:
          type: string
        type: object
      os_name:
        type: string
      os_version:
        type: string
      pi_model:
        type: string
      pi_revision:
        type: string
      pi_serial:
        type: string
      uptime_human:
        type: string
      uptime_seconds:
        type: integer
    type: object
  cubeos-api_internal_models.SystemRequirements:
    properties:
      architecture:
        description: arm64, amd64
        type: string
      available_ram_mb:
        type: integer
      available_storage_gb:
        type: integer
      cpu_cores:
        type: integer
      device_model:
        description: e.g., "Raspberry Pi 5"
        type: string
      has_bluetooth:
        type: boolean
      has_gpu:
        type: boolean
      has_wifi:
        type: boolean
      total_ram_mb:
        type: integer
      total_storage_gb:
        type: integer
    type: object
  cubeos-api_internal_models.SystemStats:
    properties:
      cpu_percent:
        type: number
      disk_free:
        type: integer
      disk_percent:
        type: number
      disk_total:
        type: integer
      disk_used:
        type: integer
      memory_available:
        type: integer
      memory_percent:
        type: number
      memory_total:
        type: integer
      memory_used:
        type: integer
      temperature_cpu:
        type: number
      timestamp:
        type: string
    type: object
  cubeos-api_internal_models.Temperature:
    properties:
      cpu_temp_c:
        type: number
      frequency_capped:
        type: boolean
      gpu_temp_c:
        type: number
      soft_temp_limit:
        type: boolean
      status:
        description: normal, warm, hot, throttled
        type: string
      temperature:
        description: Alias for cpu_temp_c for API compatibility
        type: number
      throttle_flags:
        type: string
      throttled:
        type: boolean
      under_voltage:
        type: boolean
    type: object
  cubeos-api_internal_models.VPNConfig:
    properties:
      auto_connect:
        type: boolean
      config_path:
        type: string
      created_at:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      name:
        type: string
      type:
        $ref: '#/definitions/cubeos-api_internal_models.VPNType'
      updated_at:
        type: string
    type: object
  cubeos-api_internal_models.VPNMode:
    enum:
    - none
    - wireguard
    - openvpn
    - tor
    type: string
    x-enum-varnames:
    - VPNModeNone
    - VPNModeWireGuard
    - VPNModeOpenVPN
    - VPNModeTor
  cubeos-api_internal_models.VPNStatus:
    properties:
      config_name:
        type: string
      connected:
        type: boolean
      connected_since:
        type: string
      public_ip:
        type: string
      type:
        $ref: '#/definitions/cubeos-api_internal_models.VPNType'
    type: object
  cubeos-api_internal_models.VPNType:
    enum:
    - wireguard
    - openvpn
    type: string
    x-enum-varnames:
    - VPNTypeWireGuard
    - VPNTypeOpenVPN
  cubeos-api_internal_models.XCasaOSApp:
    properties:
      architectures:
        items:
          type: string
        type: array
      author:
        type: string
      category:
        type: string
      description:
        additionalProperties:
          type: string
        type: object
      developer:
        type: string
      icon:
        type: string
      index:
        type: string
      main:
        type: string
      portMap:
        type: string
      scheme:
        type: string
      screenshot:
        type: string
      storeAppID:
        type: string
      tagline:
        additionalProperties:
          type: string
        type: object
      thumbnail:
        type: string
      tips:
        additionalProperties:
          type: string
        type: object
      title:
        additionalProperties:
          type: string
        type: object
    type: object
  cubeos-api_internal_models.XCasaOSEnv:
    properties:
      container:
        type: string
      description:
        additionalProperties:
          type: string
        type: object
    type: object
  cubeos-api_internal_models.XCasaOSPort:
    properties:
      container:
        type: string
      description:
        additionalProperties:
          type: string
        type: object
      protocol:
        type: string
    type: object
  cubeos-api_internal_models.XCasaOSService:
    properties:
      envs:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.XCasaOSEnv'
        type: array
      ports:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.XCasaOSPort'
        type: array
      volumes:
        items:
          $ref: '#/definitions/cubeos-api_internal_models.XCasaOSVolume'
        type: array
    type: object
  cubeos-api_internal_models.XCasaOSVolume:
    properties:
      container:
        type: string
      description:
        additionalProperties:
          type: string
        type: object
    type: object
  internal_handlers.AddPortRequest:
    properties:
      app_id:
        type: integer
      description:
        type: string
      is_primary:
        type: boolean
      port:
        type: integer
      protocol:
        type: string
    type: object
  internal_handlers.AddRuleRequest:
    properties:
      args:
        items:
          type: string
        type: array
      chain:
        type: string
      table:
        type: string
    type: object
  internal_handlers.AllowPortRequest:
    properties:
      port:
        type: integer
      protocol:
        description: tcp, udp, or both
        type: string
    type: object
  internal_handlers.AudioDevicesListResponse:
    properties:
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.AudioDevice'
        type: array
    type: object
  internal_handlers.BluetoothScanRequest:
    properties:
      duration:
        description: Scan duration in seconds
        type: integer
    type: object
  internal_handlers.CaptureImageRequest:
    properties:
      device:
        description: 'Camera device (default: video0)'
        type: string
      format:
        description: 'Output format: jpeg, png (default: jpeg)'
        type: string
      height:
        description: 'Image height (default: 1080)'
        type: integer
      quality:
        description: 'JPEG quality 1-100 (default: 85)'
        type: integer
      width:
        description: 'Image width (default: 1920)'
        type: integer
    type: object
  internal_handlers.CellularConnectRequest:
    properties:
      apn:
        type: string
      password:
        type: string
      username:
        type: string
    type: object
  internal_handlers.ChargingRequest:
    properties:
      enabled:
        type: boolean
    type: object
  internal_handlers.ChatMessage:
    properties:
      content:
        type: string
      role:
        type: string
    type: object
  internal_handlers.ChatRequest:
    properties:
      history:
        items:
          $ref: '#/definitions/internal_handlers.ChatMessage'
        type: array
      message:
        type: string
    type: object
  internal_handlers.ChatResponse:
    properties:
      done:
        type: boolean
      response:
        type: string
      sources:
        items:
          type: string
        type: array
    type: object
  internal_handlers.ChatStatusResponse:
    properties:
      available:
        type: boolean
      docs_count:
        type: integer
      model:
        type: string
      model_ready:
        type: boolean
      rag_enabled:
        type: boolean
    type: object
  internal_handlers.CleanupRequest:
    properties:
      dry_run:
        description: If true, only report what would be deleted
        type: boolean
      keep_tags:
        description: Number of tags to keep per image
        type: integer
      older_than_days:
        description: Delete tags older than N days
        type: integer
    type: object
  internal_handlers.CreateFQDNRequest:
    properties:
      app_id:
        type: integer
      backend_port:
        type: integer
      ssl_enabled:
        type: boolean
      subdomain:
        type: string
    type: object
  internal_handlers.CreateProxyHostRequest:
    properties:
      advanced_config:
        type: string
      block_exploits:
        type: boolean
      caching_enabled:
        type: boolean
      domain_names:
        items:
          type: string
        type: array
      forward_host:
        type: string
      forward_port:
        type: integer
      forward_scheme:
        type: string
      ssl_forced:
        type: boolean
    type: object
  internal_handlers.CreateShareRequest:
    properties:
      browseable:
        type: boolean
      description:
        type: string
      guest_ok:
        type: boolean
      name:
        type: string
      path:
        type: string
      read_only:
        type: boolean
      valid_users:
        items:
          type: string
        type: array
    type: object
  internal_handlers.DocContent:
    properties:
      content:
        type: string
      path:
        type: string
      title:
        type: string
    type: object
  internal_handlers.DocFile:
    properties:
      children:
        items:
          $ref: '#/definitions/internal_handlers.DocFile'
        type: array
      is_dir:
        type: boolean
      name:
        type: string
      path:
        type: string
      title:
        type: string
    type: object
  internal_handlers.EnvVarPreview:
    properties:
      description:
        type: string
      name:
        type: string
      value:
        type: string
    type: object
  internal_handlers.ErrorResponse:
    description: API error response
    properties:
      code:
        type: integer
      detail:
        type: string
      error:
        type: string
    type: object
  internal_handlers.FQDN:
    properties:
      app_id:
        type: integer
      app_name:
        type: string
      backend_port:
        type: integer
      created_at:
        type: string
      fqdn:
        type: string
      id:
        type: integer
      ssl_enabled:
        type: boolean
      subdomain:
        type: string
    type: object
  internal_handlers.GPIOModeRequest:
    properties:
      mode:
        description: '"input" or "output"'
        type: string
    type: object
  internal_handlers.GPIOPinsResponse:
    properties:
      pins:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.GPIOPin'
        type: array
    type: object
  internal_handlers.GPIOSetRequest:
    properties:
      value:
        type: boolean
    type: object
  internal_handlers.HardwareOverviewResponse:
    properties:
      battery:
        $ref: '#/definitions/cubeos-api_internal_hal.BatteryStatus'
      power:
        $ref: '#/definitions/cubeos-api_internal_hal.PowerStatus'
      temperature:
        $ref: '#/definitions/cubeos-api_internal_hal.TemperatureResponse'
      throttle:
        $ref: '#/definitions/cubeos-api_internal_hal.ThrottleStatus'
      uptime:
        $ref: '#/definitions/cubeos-api_internal_hal.UptimeInfo'
      watchdog:
        $ref: '#/definitions/cubeos-api_internal_hal.WatchdogInfo'
    type: object
  internal_handlers.I2CBusesResponse:
    properties:
      buses:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.I2CBus'
        type: array
    type: object
  internal_handlers.ImportRequest:
    properties:
      app_name:
        description: Required app name
        type: string
      auto_start:
        description: Start after import
        type: boolean
      env_overrides:
        additionalProperties:
          type: string
        description: Environment overrides
        type: object
      manifest:
        description: YAML content
        type: string
      title:
        description: Custom title
        type: string
      url:
        description: Optional URL to fetch
        type: string
    type: object
  internal_handlers.ImportResponse:
    properties:
      app_id:
        type: string
      app_name:
        type: string
      compose_path:
        type: string
      data_path:
        type: string
      error:
        type: string
      fqdn:
        type: string
      status:
        type: string
      success:
        type: boolean
      title:
        type: string
      warnings:
        items:
          type: string
        type: array
      webui:
        type: string
    type: object
  internal_handlers.IridiumSBDRequest:
    properties:
      message:
        type: string
    type: object
  internal_handlers.MeshtasticChannelRequest:
    properties:
      channel:
        type: integer
    type: object
  internal_handlers.MeshtasticMessageRequest:
    properties:
      channel:
        description: Default channel 0
        type: integer
      destination:
        description: Node ID or "broadcast"
        type: string
      text:
        type: string
    type: object
  internal_handlers.MountCheckResponse:
    properties:
      mounted:
        type: boolean
      path:
        type: string
    type: object
  internal_handlers.MountResultResponse:
    properties:
      message:
        type: string
      mount_point:
        type: string
      success:
        type: boolean
    type: object
  internal_handlers.NFSMountRequest:
    properties:
      mount_point:
        description: /mnt/nfs
        type: string
      options:
        type: string
      remote_path:
        description: server:/export/path
        type: string
    type: object
  internal_handlers.NPMStatus:
    properties:
      authenticated:
        type: boolean
      base_url:
        type: string
      host_count:
        type: integer
      online:
        type: boolean
      version:
        type: string
    type: object
  internal_handlers.OneWireDevicesResponse:
    properties:
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.OneWireDevice'
        type: array
    type: object
  internal_handlers.PortPreview:
    properties:
      container:
        type: string
      description:
        type: string
      host:
        type: string
      protocol:
        type: string
    type: object
  internal_handlers.PreviewRequest:
    properties:
      app_name:
        type: string
      manifest:
        description: YAML or JSON content
        type: string
      url:
        description: 'Optional: URL to fetch manifest from'
        type: string
    type: object
  internal_handlers.PreviewResponse:
    properties:
      app_name:
        type: string
      architectures:
        items:
          type: string
        type: array
      author:
        type: string
      category:
        type: string
      compatible:
        type: boolean
      description:
        type: string
      env_vars:
        items:
          $ref: '#/definitions/internal_handlers.EnvVarPreview'
        type: array
      errors:
        items:
          type: string
        type: array
      icon:
        type: string
      main_service:
        type: string
      ports:
        items:
          $ref: '#/definitions/internal_handlers.PortPreview'
        type: array
      raw_manifest:
        $ref: '#/definitions/cubeos-api_internal_models.CasaOSManifest'
      services:
        items:
          $ref: '#/definitions/internal_handlers.ServicePreview'
        type: array
      title:
        type: string
      valid:
        type: boolean
      version:
        type: string
      volumes:
        items:
          $ref: '#/definitions/internal_handlers.VolumePreview'
        type: array
      warnings:
        items:
          type: string
        type: array
      webui_path:
        type: string
      webui_port:
        type: string
    type: object
  internal_handlers.RegistryStatus:
    properties:
      disk_usage:
        type: string
      disk_usage_bytes:
        type: integer
      error:
        type: string
      image_count:
        type: integer
      online:
        type: boolean
      url:
        type: string
      version:
        type: string
    type: object
  internal_handlers.SMBMountRequest:
    properties:
      domain:
        type: string
      mount_point:
        description: /mnt/share
        type: string
      options:
        type: string
      password:
        type: string
      remote_path:
        description: //server/share
        type: string
      username:
        type: string
    type: object
  internal_handlers.ServicePreview:
    properties:
      image:
        type: string
      is_main:
        type: boolean
      name:
        type: string
      network_mode:
        type: string
      privileged:
        type: boolean
    type: object
  internal_handlers.SetIPForwardRequest:
    properties:
      enabled:
        type: boolean
    type: object
  internal_handlers.SetMuteRequest:
    properties:
      muted:
        type: boolean
    type: object
  internal_handlers.SetVolumeRequest:
    properties:
      volume:
        description: 0-100
        type: integer
    type: object
  internal_handlers.StartStreamRequest:
    properties:
      device:
        description: 'Camera device (default: video0)'
        type: string
      framerate:
        description: 'Framerate (default: 30)'
        type: integer
      height:
        description: 'Stream height (default: 720)'
        type: integer
      port:
        description: 'Stream port (default: 8080)'
        type: integer
      width:
        description: 'Stream width (default: 1280)'
        type: integer
    type: object
  internal_handlers.StreamStartResponse:
    properties:
      message:
        type: string
      stream_url:
        type: string
      success:
        type: boolean
    type: object
  internal_handlers.SuccessResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  internal_handlers.TestMountRequest:
    properties:
      password:
        type: string
      remote_path:
        description: //server/share or server:/path
        type: string
      type:
        description: '"smb" or "nfs"'
        type: string
      username:
        type: string
    type: object
  internal_handlers.USBDevicesByClassResponse:
    properties:
      class:
        type: string
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.USBDevice'
        type: array
    type: object
  internal_handlers.USBStorageResponse:
    properties:
      devices:
        items:
          $ref: '#/definitions/cubeos-api_internal_hal.USBStorageDevice'
        type: array
    type: object
  internal_handlers.UnmountNetworkRequest:
    properties:
      path:
        type: string
    type: object
  internal_handlers.UpdateFQDNRequest:
    properties:
      backend_port:
        type: integer
      ssl_enabled:
        type: boolean
    type: object
  internal_handlers.VolumePreview:
    properties:
      container:
        type: string
      description:
        type: string
      host:
        type: string
    type: object
  internal_handlers.WakeAlarmRequest:
    properties:
      time:
        description: ISO 8601 format
        type: string
    type: object
host: cubeos.cube:6010
info:
  contact:
    email: support@cubeos.io
    name: CubeOS Support
    url: https://cubeos.io/support
  description: REST API for CubeOS - Raspberry Pi server operating system
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: https://cubeos.io/terms/
  title: CubeOS API
  version: "1.0"
paths:
  /apps:
    get:
      description: Returns all apps with optional filtering by type and enabled state
      parameters:
      - description: Filter by app type (system, user)
        in: query
        name: type
        type: string
      - description: Filter by enabled state
        in: query
        name: enabled
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: List of apps
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list apps
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all apps
      tags:
      - Apps
    post:
      consumes:
      - application/json
      description: Installs a new app from the app store or custom source
      parameters:
      - description: App installation configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.InstallAppRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Installed app details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.App'
        "400":
          description: Invalid request or missing name
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to install app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Install an app
      tags:
      - Apps
  /apps/{name}:
    delete:
      description: Removes an installed app with optional data retention
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      - default: false
        description: Keep app data after uninstall
        in: query
        name: keep_data
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Uninstall confirmation
          schema:
            additionalProperties: true
            type: object
        "404":
          description: App not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to uninstall app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Uninstall an app
      tags:
      - Apps
    get:
      description: Returns details of a specific app by name
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: App details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.App'
        "404":
          description: App not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Database error
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get app details
      tags:
      - Apps
  /apps/{name}/disable:
    post:
      description: Disables an app from starting automatically on boot
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Disable confirmation
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to disable app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disable app auto-start
      tags:
      - Apps
  /apps/{name}/enable:
    post:
      description: Enables an app to start automatically on boot
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Enable confirmation
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to enable app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable app auto-start
      tags:
      - Apps
  /apps/{name}/logs:
    get:
      description: Returns logs for a specific app
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      - default: 100
        description: Number of log lines
        in: query
        name: lines
        type: integer
      - description: Since timestamp (RFC3339)
        in: query
        name: since
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: App logs
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get logs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get app logs
      tags:
      - Apps
  /apps/{name}/restart:
    post:
      description: Restarts an app (stop then start)
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Restart confirmation
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to restart app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restart an app
      tags:
      - Apps
  /apps/{name}/start:
    post:
      description: Starts a stopped app
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Start confirmation
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to start app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start an app
      tags:
      - Apps
  /apps/{name}/stop:
    post:
      description: Stops a running app
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Stop confirmation
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to stop app
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Stop an app
      tags:
      - Apps
  /apps/{name}/tor:
    post:
      consumes:
      - application/json
      description: Enables or disables Tor network routing for an app's traffic
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      - description: Tor enabled state
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Tor configuration updated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to configure Tor
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Configure Tor routing for app
      tags:
      - Apps
  /apps/{name}/vpn:
    post:
      consumes:
      - application/json
      description: Enables or disables VPN routing for an app's traffic
      parameters:
      - description: App name
        in: path
        name: name
        required: true
        type: string
      - description: VPN enabled state
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: VPN configuration updated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to configure VPN
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Configure VPN routing for app
      tags:
      - Apps
  /appstore/apps:
    get:
      description: Returns apps from all stores with optional filtering by category,
        search term, or store
      parameters:
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Search term for app name/description
        in: query
        name: search
        type: string
      - description: Filter by specific store ID
        in: query
        name: store_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'apps: array of catalog apps, count: total'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List apps from catalog
      tags:
      - AppStore - Catalog
  /appstore/categories:
    get:
      description: Returns all available app categories across all stores
      produces:
      - application/json
      responses:
        "200":
          description: 'categories: array of category names'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List app categories
      tags:
      - AppStore - Catalog
  /appstore/coreapps:
    get:
      description: 'Returns all core system apps (pihole, npm, api, etc). WARNING:
        Modifying core apps may break your system.'
      produces:
      - application/json
      responses:
        "200":
          description: 'apps: array of core apps, warning: safety message'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list core apps
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List core system apps
      tags:
      - AppStore - Config (Core Apps)
  /appstore/coreapps/{appID}/config:
    get:
      description: 'Returns the docker-compose.yml and .env files for a core system
        app. WARNING: Core apps are system-critical.'
      parameters:
      - description: Core app ID (e.g., pihole, npm, api)
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'config: app config, warning: safety message'
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Core app not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get core app configuration
      tags:
      - AppStore - Config (Core Apps)
    put:
      consumes:
      - application/json
      description: 'Updates configuration for a core system app. Requires confirm_dangerous=true.
        WARNING: May break system!'
      parameters:
      - description: Core app ID
        in: path
        name: appID
        required: true
        type: string
      - description: Config update with confirmation
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: success, message, warning
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Missing confirm_dangerous or invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Update failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update core app configuration
      tags:
      - AppStore - Config (Core Apps)
  /appstore/coreapps/{appID}/config/apply:
    post:
      consumes:
      - application/json
      description: Restarts a core system app with updated configuration. Requires
        confirm_dangerous=true.
      parameters:
      - description: Core app ID
        in: path
        name: appID
        required: true
        type: string
      - description: Confirmation
        in: body
        name: request
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Missing confirm_dangerous
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Apply failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Apply core app configuration changes
      tags:
      - AppStore - Config (Core Apps)
  /appstore/coreapps/{appID}/config/backups:
    get:
      description: Returns available configuration backups for a core system app
      parameters:
      - description: Core app ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'backups: array of backup info'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list backups
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List core app config backups
      tags:
      - AppStore - Config (Core Apps)
  /appstore/coreapps/{appID}/config/restore/{backup}:
    post:
      description: Restores a configuration backup for a core app. Use /config/apply
        to restart with restored config.
      parameters:
      - description: Core app ID
        in: path
        name: appID
        required: true
        type: string
      - description: Backup filename/identifier
        in: path
        name: backup
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Restore failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restore core app config backup
      tags:
      - AppStore - Config (Core Apps)
  /appstore/installed:
    get:
      description: Returns all apps installed from the app store
      produces:
      - application/json
      responses:
        "200":
          description: 'apps: array of installed apps, count: total'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List installed apps
      tags:
      - AppStore - Installed
    post:
      consumes:
      - application/json
      description: Installs an app from the catalog. Downloads manifest, creates Docker
        stack, and starts the app.
      parameters:
      - description: Installation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.AppInstallRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Installed app details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.InstalledApp'
        "400":
          description: Invalid request, missing fields, or invalid app name
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Installation failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Install an app from store
      tags:
      - AppStore - Installed
  /appstore/installed/{appID}:
    delete:
      description: Removes an installed app. Optionally deletes app data volumes.
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      - description: Also delete app data volumes
        in: query
        name: delete_data
        type: boolean
      responses:
        "204":
          description: App removed successfully
        "500":
          description: Removal failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Uninstall an app
      tags:
      - AppStore - Installed
    get:
      description: Returns details of a specific installed app including status and
        configuration
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Installed app details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.InstalledApp'
        "404":
          description: App not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get installed app details
      tags:
      - AppStore - Installed
  /appstore/installed/{appID}/action:
    post:
      consumes:
      - application/json
      description: Performs a lifecycle action on an installed app (start, stop, restart,
        remove)
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      - description: Action request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.AppActionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true'
          schema:
            additionalProperties:
              type: boolean
            type: object
        "400":
          description: Invalid request or action
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Action failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Perform action on app
      tags:
      - AppStore - Installed
  /appstore/installed/{appID}/config:
    get:
      description: Returns the docker-compose.yml and .env files for an installed
        user app
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: App configuration files
          schema:
            additionalProperties: true
            type: object
        "404":
          description: App not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get app configuration
      tags:
      - AppStore - Config (User Apps)
    put:
      consumes:
      - application/json
      description: Updates the docker-compose.yml and/or .env files for a user app.
        Changes are saved but not applied until /config/apply is called.
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      - description: Config update
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Update failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update app configuration
      tags:
      - AppStore - Config (User Apps)
  /appstore/installed/{appID}/config/apply:
    post:
      description: Restarts the app with the updated configuration files
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Apply failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Apply app configuration changes
      tags:
      - AppStore - Config (User Apps)
  /appstore/installed/{appID}/config/backups:
    get:
      description: Returns available configuration backups for a user app
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'backups: array of backup info'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list backups
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List config backups
      tags:
      - AppStore - Config (User Apps)
  /appstore/installed/{appID}/config/restore/{backup}:
    post:
      description: Restores a configuration backup. Use /config/apply to restart with
        restored config.
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      - description: Backup filename/identifier
        in: path
        name: backup
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Restore failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restore config backup
      tags:
      - AppStore - Config (User Apps)
  /appstore/installed/{appID}/restart:
    post:
      description: Restarts an app's Docker containers
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true'
          schema:
            additionalProperties:
              type: boolean
            type: object
        "500":
          description: Restart failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restart an installed app
      tags:
      - AppStore - Installed
  /appstore/installed/{appID}/start:
    post:
      description: Starts a stopped app's Docker containers
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true'
          schema:
            additionalProperties:
              type: boolean
            type: object
        "500":
          description: Start failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start an installed app
      tags:
      - AppStore - Installed
  /appstore/installed/{appID}/stop:
    post:
      description: Stops a running app's Docker containers
      parameters:
      - description: App ID
        in: path
        name: appID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true'
          schema:
            additionalProperties:
              type: boolean
            type: object
        "500":
          description: Stop failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Stop an installed app
      tags:
      - AppStore - Installed
  /appstore/proxy-hosts:
    get:
      description: Returns all Nginx Proxy Manager proxy host configurations for installed
        apps
      produces:
      - application/json
      responses:
        "200":
          description: 'hosts: array of proxy host configs'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to fetch proxy hosts
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List NPM proxy hosts
      tags:
      - AppStore - NPM
  /appstore/stores:
    get:
      description: Returns all registered app stores including CasaOS-compatible stores
      produces:
      - application/json
      responses:
        "200":
          description: 'stores: array of store objects'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all app stores
      tags:
      - AppStore - Stores
    post:
      consumes:
      - application/json
      description: Registers a new app store URL and initiates background sync. Supports
        CasaOS-compatible store format.
      parameters:
      - description: Store registration
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created store object
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.AppStore'
        "400":
          description: Invalid request or missing URL
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to register store
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Register a new app store
      tags:
      - AppStore - Stores
  /appstore/stores/{storeID}:
    delete:
      description: Removes an app store from the registry. Does not affect already
        installed apps.
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      responses:
        "204":
          description: Store removed successfully
        "500":
          description: Failed to remove store
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove an app store
      tags:
      - AppStore - Stores
    get:
      description: Returns details of a specific app store by ID
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Store details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.AppStore'
        "404":
          description: Store not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a specific app store
      tags:
      - AppStore - Stores
  /appstore/stores/{storeID}/apps/{appName}:
    get:
      description: Returns detailed information about a specific app in the catalog
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      - description: App name
        in: path
        name: appName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: App details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.StoreApp'
        "404":
          description: App not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get app details from catalog
      tags:
      - AppStore - Catalog
  /appstore/stores/{storeID}/apps/{appName}/icon:
    get:
      description: Returns the PNG icon for an app. Response is cached for 24 hours.
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      - description: App name
        in: path
        name: appName
        required: true
        type: string
      produces:
      - image/png
      responses:
        "200":
          description: PNG icon image
          schema:
            type: file
        "404":
          description: Icon not found
          schema:
            type: string
      security:
      - BearerAuth: []
      summary: Get app icon
      tags:
      - AppStore - Catalog
  /appstore/stores/{storeID}/apps/{appName}/manifest:
    get:
      description: Returns the raw manifest (docker-compose) for an app. Supports
        YAML (default) or JSON format.
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      - description: App name
        in: path
        name: appName
        required: true
        type: string
      - description: 'Output format: yaml (default) or json'
        in: query
        name: format
        type: string
      produces:
      - application/x-yaml
      - application/json
      responses:
        "200":
          description: App manifest
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.CasaOSManifest'
        "404":
          description: Manifest not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get app manifest
      tags:
      - AppStore - Catalog
  /appstore/stores/{storeID}/apps/{appName}/screenshot/{index}:
    get:
      description: Returns a screenshot for an app by index (1-based). Response is
        cached for 24 hours.
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      - description: App name
        in: path
        name: appName
        required: true
        type: string
      - description: Screenshot index (1-based)
        in: path
        name: index
        required: true
        type: integer
      produces:
      - image/png
      responses:
        "200":
          description: PNG screenshot image
          schema:
            type: file
        "400":
          description: Invalid index
          schema:
            type: string
        "404":
          description: Screenshot not found
          schema:
            type: string
      security:
      - BearerAuth: []
      summary: Get app screenshot
      tags:
      - AppStore - Catalog
  /appstore/stores/{storeID}/sync:
    post:
      description: Fetches latest app catalog from the specified store
      parameters:
      - description: Store ID
        in: path
        name: storeID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, app_count, last_sync
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Sync failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Sync a specific app store
      tags:
      - AppStore - Stores
  /appstore/stores/sync:
    post:
      description: Fetches latest app catalogs from all enabled stores
      produces:
      - application/json
      responses:
        "200":
          description: success, store_count, total_apps
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Sync failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Sync all app stores
      tags:
      - AppStore - Stores
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user and return JWT access token
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.LoginResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Server error
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      summary: User login
      tags:
      - Auth
  /auth/logout:
    post:
      description: Logout current user (client should discard token)
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
      security:
      - BearerAuth: []
      summary: User logout
      tags:
      - Auth
  /auth/me:
    get:
      description: Returns current authenticated user information
      produces:
      - application/json
      responses:
        "200":
          description: User info with username and role
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Invalid token
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user
      tags:
      - Auth
  /auth/password:
    post:
      consumes:
      - application/json
      description: Change password for current authenticated user
      parameters:
      - description: Current and new password
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password changed successfully
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "401":
          description: Invalid token or current password incorrect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Server error
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Change password
      tags:
      - Auth
  /auth/refresh:
    post:
      description: Generate a new JWT token using existing valid token
      produces:
      - application/json
      responses:
        "200":
          description: New token
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Invalid token
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to generate token
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Refresh JWT token
      tags:
      - Auth
  /backups:
    get:
      description: Returns a list of all available backups with total size
      produces:
      - application/json
      responses:
        "200":
          description: Backup list
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.BackupListResponse'
        "500":
          description: Failed to list backups
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all backups
      tags:
      - Backups
    post:
      consumes:
      - application/json
      description: Creates a new backup with the specified configuration
      parameters:
      - description: Backup configuration
        in: body
        name: request
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.BackupCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Backup created
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "500":
          description: Failed to create backup
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new backup
      tags:
      - Backups
  /backups/{backup_id}:
    delete:
      description: Permanently deletes a backup file and its metadata
      parameters:
      - description: Backup ID
        in: path
        name: backup_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Backup deleted
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "404":
          description: Backup not found
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a backup
      tags:
      - Backups
    get:
      description: Returns details for a specific backup
      parameters:
      - description: Backup ID
        in: path
        name: backup_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Backup details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.BackupInfo'
        "404":
          description: Backup not found
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get backup details
      tags:
      - Backups
  /backups/{backup_id}/download:
    get:
      description: Downloads a backup file as a gzip archive
      parameters:
      - description: Backup ID
        in: path
        name: backup_id
        required: true
        type: string
      produces:
      - application/gzip
      responses:
        "200":
          description: Backup file
          schema:
            type: file
        "404":
          description: Backup not found
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download a backup
      tags:
      - Backups
  /backups/{backup_id}/restore:
    post:
      description: Restores the system from a backup. Requires confirm=true query
        parameter.
      parameters:
      - description: Backup ID
        in: path
        name: backup_id
        required: true
        type: string
      - description: Confirmation flag
        example: true
        in: query
        name: confirm
        required: true
        type: boolean
      - default: true
        description: Restart services after restore
        in: query
        name: restart_services
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Backup restored
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "400":
          description: Confirmation required
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
        "404":
          description: Backup not found
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
        "500":
          description: Failed to restore backup
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restore from a backup
      tags:
      - Backups
  /backups/quick:
    post:
      description: Creates a quick backup with default settings (config-only, compressed,
        auto-named)
      parameters:
      - default: config
        description: Backup type
        in: query
        name: backup_type
        type: string
      - description: Backup description
        in: query
        name: description
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Backup created
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "500":
          description: Failed to create backup
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a quick backup
      tags:
      - Backups
  /backups/stats:
    get:
      description: Returns statistics about backups including total count, size, and
        breakdown by type
      produces:
      - application/json
      responses:
        "200":
          description: Backup statistics
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get backup stats
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get backup statistics
      tags:
      - Backups
  /casaos/import:
    post:
      consumes:
      - application/json
      description: Imports a CasaOS docker-compose manifest, creates app directory
        structure, and optionally starts the app. Performs variable substitution for
        PUID, PGID, TZ, and data paths.
      parameters:
      - description: Import request with manifest, app name, and options
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.ImportRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Import result with app details, paths, and status
          schema:
            $ref: '#/definitions/internal_handlers.ImportResponse'
        "400":
          description: Invalid request, missing fields, invalid manifest, or invalid
            app name
          schema:
            $ref: '#/definitions/internal_handlers.ImportResponse'
        "409":
          description: App already exists
          schema:
            $ref: '#/definitions/internal_handlers.ImportResponse'
        "500":
          description: Failed to create app files
          schema:
            $ref: '#/definitions/internal_handlers.ImportResponse'
      security:
      - BearerAuth: []
      summary: Import a CasaOS app
      tags:
      - CasaOS
  /casaos/preview:
    post:
      consumes:
      - application/json
      description: Parses and validates a CasaOS docker-compose manifest without importing.
        Returns detailed preview with services, ports, volumes, env vars, and ARM64
        compatibility check.
      parameters:
      - description: Preview request with manifest content or URL
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.PreviewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Parsed manifest preview with validation results
          schema:
            $ref: '#/definitions/internal_handlers.PreviewResponse'
        "400":
          description: Invalid request, failed to fetch URL, or missing manifest
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Preview a CasaOS manifest
      tags:
      - CasaOS
  /casaos/stores:
    get:
      description: Returns all registered app stores plus well-known CasaOS community
        stores (Official, Big Bear, LinuxServer.io)
      produces:
      - application/json
      responses:
        "200":
          description: 'stores: array of CasaOSStoreInfo, count, info (format docs)'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List CasaOS-compatible stores
      tags:
      - CasaOS
  /chat:
    post:
      consumes:
      - application/json
      description: Sends a message to the CubeOS AI assistant with RAG support. Uses
        Ollama with Qwen2.5 model and retrieves relevant documentation from ChromaDB
        for context-aware responses.
      parameters:
      - description: Chat message with optional conversation history
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.ChatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: AI response with optional documentation sources
          schema:
            $ref: '#/definitions/internal_handlers.ChatResponse'
        "400":
          description: Invalid request or missing message
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to parse AI response
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: AI service unavailable (Ollama not running)
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Send chat message
      tags:
      - Chat
  /chat/pull-model:
    post:
      description: 'Triggers download of the configured Ollama model (default: qwen2.5:0.5b).
        This is a long-running operation.'
      produces:
      - application/json
      responses:
        "200":
          description: 'status: pulling, model: model name'
          schema:
            additionalProperties:
              type: string
            type: object
        "503":
          description: Failed to pull model (Ollama unavailable)
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Pull AI model
      tags:
      - Chat
  /chat/status:
    get:
      description: Returns the status of the AI chat service including Ollama availability,
        model readiness, and RAG (ChromaDB) status with document count.
      produces:
      - application/json
      responses:
        "200":
          description: Chat service status
          schema:
            $ref: '#/definitions/internal_handlers.ChatStatusResponse'
      security:
      - BearerAuth: []
      summary: Get chat service status
      tags:
      - Chat
  /chat/stream:
    post:
      consumes:
      - application/json
      description: Sends a message to the CubeOS AI assistant with Server-Sent Events
        (SSE) streaming. Sources are sent first, followed by incremental response
        tokens.
      parameters:
      - description: Chat message with optional conversation history
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.ChatRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE stream with content chunks and done flag
          schema:
            type: string
        "400":
          description: Invalid request or missing message
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Streaming not supported
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Send chat message with streaming
      tags:
      - Chat
  /clients:
    get:
      description: Returns list of connected WiFi clients
      produces:
      - application/json
      responses:
        "200":
          description: Connected clients
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get clients
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List connected clients
      tags:
      - Clients
  /clients/{mac}/block:
    post:
      description: Blocks a client by MAC address
      parameters:
      - description: MAC address
        in: path
        name: mac
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Client blocked
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Block a client
      tags:
      - Clients
  /clients/{mac}/unblock:
    post:
      description: Unblocks a previously blocked client by MAC address
      parameters:
      - description: MAC address
        in: path
        name: mac
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Client unblocked
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unblock a client
      tags:
      - Clients
  /clients/count:
    get:
      description: Returns number of connected WiFi clients
      produces:
      - application/json
      responses:
        "200":
          description: Client count
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get client count
      tags:
      - Clients
  /communication/bluetooth:
    get:
      consumes:
      - application/json
      description: Returns Bluetooth adapter status and power state
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.BluetoothStatus'
        "500":
          description: Failed to get Bluetooth status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Bluetooth status
      tags:
      - Communication
  /communication/bluetooth/connect/{address}:
    post:
      consumes:
      - application/json
      description: Connects to a paired Bluetooth device
      parameters:
      - description: Bluetooth device address
        example: AA:BB:CC:DD:EE:FF
        in: path
        name: address
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Address required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to connect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Connect Bluetooth device
      tags:
      - Communication
  /communication/bluetooth/devices:
    get:
      consumes:
      - application/json
      description: Returns list of paired and discovered Bluetooth devices
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.BluetoothDevicesResponse'
        "500":
          description: Failed to list Bluetooth devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List Bluetooth devices
      tags:
      - Communication
  /communication/bluetooth/devices/{address}:
    delete:
      consumes:
      - application/json
      description: Removes a paired Bluetooth device
      parameters:
      - description: Bluetooth device address
        example: AA:BB:CC:DD:EE:FF
        in: path
        name: address
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Address required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to remove
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove Bluetooth device
      tags:
      - Communication
  /communication/bluetooth/disconnect/{address}:
    post:
      consumes:
      - application/json
      description: Disconnects a connected Bluetooth device
      parameters:
      - description: Bluetooth device address
        example: AA:BB:CC:DD:EE:FF
        in: path
        name: address
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Address required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to disconnect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disconnect Bluetooth device
      tags:
      - Communication
  /communication/bluetooth/pair/{address}:
    post:
      consumes:
      - application/json
      description: Initiates pairing with a Bluetooth device
      parameters:
      - description: Bluetooth device address
        example: AA:BB:CC:DD:EE:FF
        in: path
        name: address
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Address required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to pair
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Pair Bluetooth device
      tags:
      - Communication
  /communication/bluetooth/power/off:
    post:
      consumes:
      - application/json
      description: Powers off the Bluetooth adapter
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to power off Bluetooth
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Power off Bluetooth
      tags:
      - Communication
  /communication/bluetooth/power/on:
    post:
      consumes:
      - application/json
      description: Powers on the Bluetooth adapter
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to power on Bluetooth
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Power on Bluetooth
      tags:
      - Communication
  /communication/bluetooth/scan:
    post:
      consumes:
      - application/json
      description: Initiates a Bluetooth device discovery scan
      parameters:
      - description: Scan parameters
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_handlers.BluetoothScanRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to start scan
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Scan for Bluetooth devices
      tags:
      - Communication
  /communication/cellular:
    get:
      consumes:
      - application/json
      description: Returns list of detected cellular modems (4G/LTE)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.CellularModemsResponse'
        "500":
          description: Failed to list cellular modems
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List cellular modems
      tags:
      - Communication
  /communication/cellular/{modem}/connect:
    post:
      consumes:
      - application/json
      description: Establishes cellular data connection
      parameters:
      - description: Modem index
        example: 0
        in: path
        name: modem
        required: true
        type: integer
      - description: APN settings
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.CellularConnectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to connect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Connect cellular modem
      tags:
      - Communication
  /communication/cellular/{modem}/disconnect:
    post:
      consumes:
      - application/json
      description: Disconnects cellular data connection
      parameters:
      - description: Modem index
        example: 0
        in: path
        name: modem
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid modem index
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to disconnect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disconnect cellular modem
      tags:
      - Communication
  /communication/cellular/{modem}/signal:
    get:
      consumes:
      - application/json
      description: Returns signal strength and quality for a modem
      parameters:
      - description: Modem index
        example: 0
        in: path
        name: modem
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.CellularSignal'
        "400":
          description: Invalid modem index
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get signal
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get cellular signal strength
      tags:
      - Communication
  /communication/cellular/android:
    get:
      consumes:
      - application/json
      description: Returns USB tethering status for connected Android phone
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.AndroidTetheringStatus'
        "500":
          description: Failed to get status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Android tethering status
      tags:
      - Communication
  /communication/cellular/android/disable:
    post:
      consumes:
      - application/json
      description: Disables USB tethering on connected Android phone via ADB
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to disable tethering
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disable Android tethering
      tags:
      - Communication
  /communication/cellular/android/enable:
    post:
      consumes:
      - application/json
      description: Enables USB tethering on connected Android phone via ADB
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to enable tethering
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable Android tethering
      tags:
      - Communication
  /communication/cellular/status:
    get:
      consumes:
      - application/json
      description: Returns overall cellular connection status
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.CellularStatus'
        "500":
          description: Failed to get cellular status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get cellular status
      tags:
      - Communication
  /communication/gps:
    get:
      consumes:
      - application/json
      description: Returns list of detected GPS devices (USB, serial)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.GPSDevicesResponse'
        "500":
          description: Failed to list GPS devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List GPS devices
      tags:
      - Communication
  /communication/gps/{port}/position:
    get:
      consumes:
      - application/json
      description: Returns current GPS position (lat, lon, alt, speed, heading)
      parameters:
      - description: GPS device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      - default: 10
        description: Timeout in seconds
        in: query
        name: timeout
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.GPSPosition'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get GPS position
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get GPS position
      tags:
      - Communication
  /communication/gps/{port}/status:
    get:
      consumes:
      - application/json
      description: Returns GPS receiver status (fix, satellites, HDOP)
      parameters:
      - description: GPS device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.GPSStatus'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get GPS status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get GPS status
      tags:
      - Communication
  /communication/iridium/{port}/mailbox:
    post:
      consumes:
      - application/json
      description: Initiates a mailbox check for new incoming messages
      parameters:
      - description: Iridium device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to check mailbox
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check Iridium mailbox
      tags:
      - Communication
  /communication/iridium/{port}/messages:
    get:
      consumes:
      - application/json
      description: Returns received Iridium SBD messages
      parameters:
      - description: Iridium device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.IridiumMessagesResponse'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get messages
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Iridium messages
      tags:
      - Communication
  /communication/iridium/{port}/send:
    post:
      consumes:
      - application/json
      description: Sends a Short Burst Data message via Iridium satellite
      parameters:
      - description: Iridium device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      - description: SBD message (max 340 bytes)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.IridiumSBDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to send SBD
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Send Iridium SBD message
      tags:
      - Communication
  /communication/iridium/{port}/signal:
    get:
      consumes:
      - application/json
      description: Returns Iridium satellite signal strength (0-5 bars)
      parameters:
      - description: Iridium device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.IridiumSignal'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get signal
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Iridium signal strength
      tags:
      - Communication
  /communication/iridium/{port}/status:
    get:
      consumes:
      - application/json
      description: Returns Iridium satellite modem status
      parameters:
      - description: Iridium device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.IridiumStatus'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Iridium status
      tags:
      - Communication
  /communication/meshtastic/{port}/channel:
    post:
      consumes:
      - application/json
      description: Sets the active Meshtastic channel
      parameters:
      - description: Meshtastic device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      - description: Channel number
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.MeshtasticChannelRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set channel
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set Meshtastic channel
      tags:
      - Communication
  /communication/meshtastic/{port}/message:
    post:
      consumes:
      - application/json
      description: Sends a text message via Meshtastic mesh network
      parameters:
      - description: Meshtastic device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      - description: Message to send
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.MeshtasticMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to send message
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Send Meshtastic message
      tags:
      - Communication
  /communication/meshtastic/{port}/nodes:
    get:
      consumes:
      - application/json
      description: Returns list of discovered Meshtastic nodes in the mesh
      parameters:
      - description: Meshtastic device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.MeshtasticNodesResponse'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get nodes
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Meshtastic nodes
      tags:
      - Communication
  /communication/meshtastic/{port}/status:
    get:
      consumes:
      - application/json
      description: Returns Meshtastic radio status and configuration
      parameters:
      - description: Meshtastic device port
        example: ttyUSB0
        in: path
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.MeshtasticStatus'
        "400":
          description: Port required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Meshtastic status
      tags:
      - Communication
  /docker/disk-usage:
    get:
      description: Returns Docker disk usage statistics
      produces:
      - application/json
      responses:
        "200":
          description: Docker disk usage
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Docker not available
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Docker disk usage
      tags:
      - Docker
  /docker/prune:
    post:
      description: Removes unused Docker resources (containers, images, volumes, networks)
      produces:
      - application/json
      responses:
        "200":
          description: Prune results
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Docker not available
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Prune Docker resources
      tags:
      - Docker
  /documentation:
    get:
      description: Returns a flat list of all markdown documentation files sorted
        by path. Titles are extracted from the first H1 heading in each file.
      produces:
      - application/json
      responses:
        "200":
          description: Array of documentation files
          schema:
            items:
              $ref: '#/definitions/internal_handlers.DocFile'
            type: array
        "500":
          description: Failed to list docs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all documentation files
      tags:
      - Docs
  /documentation/{path}:
    get:
      description: Returns the content of a specific markdown documentation file.
        The .md extension is optional in the path. Returns README.md if no path is
        specified.
      parameters:
      - description: Document path (without .md extension)
        in: path
        name: path
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Document content with title and path
          schema:
            $ref: '#/definitions/internal_handlers.DocContent'
        "400":
          description: Invalid path (directory traversal attempt)
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: Document not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to read document
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get documentation file content
      tags:
      - Docs
  /documentation/search:
    get:
      description: Searches documentation content for the given query (case-insensitive).
        Returns matching files with their paths and titles.
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Array of matching documentation files
          schema:
            items:
              $ref: '#/definitions/internal_handlers.DocFile'
            type: array
        "400":
          description: Query parameter 'q' required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Search documentation
      tags:
      - Docs
  /documentation/tree:
    get:
      description: Returns documentation files as a hierarchical tree structure with
        directories and nested children. Directories are sorted before files.
      produces:
      - application/json
      responses:
        "200":
          description: Tree of documentation files with nested children
          schema:
            items:
              $ref: '#/definitions/internal_handlers.DocFile'
            type: array
      security:
      - BearerAuth: []
      summary: Get documentation tree
      tags:
      - Docs
  /favorites:
    get:
      description: Returns list of favorite services
      produces:
      - application/json
      responses:
        "200":
          description: Favorite services
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get favorites
      tags:
      - Favorites
  /favorites/{name}:
    delete:
      description: Removes a service from favorites
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Updated favorites
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove favorite
      tags:
      - Favorites
    post:
      description: Adds a service to favorites
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Updated favorites
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Add favorite
      tags:
      - Favorites
  /favorites/{name}/toggle:
    post:
      description: Toggles a service's favorite status
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Updated favorites with new status
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Toggle favorite
      tags:
      - Favorites
  /firewall/forwarding:
    get:
      description: Returns whether IP forwarding (net.ipv4.ip_forward) is enabled
      produces:
      - application/json
      responses:
        "200":
          description: 'enabled: boolean'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get forwarding status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get IP forwarding status
      tags:
      - Firewall
  /firewall/forwarding/disable:
    post:
      description: Disables IP forwarding (net.ipv4.ip_forward=0)
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to disable forwarding
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disable IP forwarding
      tags:
      - Firewall
  /firewall/forwarding/enable:
    post:
      description: Enables IP forwarding (net.ipv4.ip_forward=1) required for NAT
        and routing
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to enable forwarding
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable IP forwarding
      tags:
      - Firewall
  /firewall/ipforward:
    get:
      description: Returns the current state of IP forwarding (net.ipv4.ip_forward)
      produces:
      - application/json
      responses:
        "200":
          description: 'enabled: boolean, value: string'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get IP forward status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get IP forwarding status
      tags:
      - Firewall
    put:
      consumes:
      - application/json
      description: Enables or disables IP forwarding
      parameters:
      - description: IP forward setting
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.SetIPForwardRequest'
      produces:
      - application/json
      responses:
        "200":
          description: success, enabled
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set IP forward
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set IP forwarding status
      tags:
      - Firewall
  /firewall/nat:
    get:
      description: Returns NAT/masquerade status and configuration details
      produces:
      - application/json
      responses:
        "200":
          description: NAT status details
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get NAT status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get NAT status
      tags:
      - Firewall
  /firewall/nat/disable:
    post:
      description: Disables NAT/masquerade, stopping internet sharing
      produces:
      - application/json
      responses:
        "200":
          description: status, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to disable NAT
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disable NAT
      tags:
      - Firewall
  /firewall/nat/enable:
    post:
      description: Enables NAT/masquerade for internet sharing through the access
        point
      produces:
      - application/json
      responses:
        "200":
          description: status, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to enable NAT
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable NAT
      tags:
      - Firewall
  /firewall/port/{port}:
    delete:
      description: Removes any firewall rules for the specified port
      parameters:
      - description: Port number
        in: path
        name: port
        required: true
        type: integer
      - description: Protocol (tcp, udp)
        in: query
        name: protocol
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid port
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete port firewall rule
      tags:
      - Firewall
  /firewall/port/allow:
    post:
      consumes:
      - application/json
      description: Opens a port in the firewall for incoming traffic
      parameters:
      - description: Port to allow
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.AllowPortRequest'
      produces:
      - application/json
      responses:
        "200":
          description: success, port, protocol
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid port or protocol
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to allow port
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Allow incoming traffic on a port
      tags:
      - Firewall
  /firewall/port/block:
    post:
      consumes:
      - application/json
      description: Blocks a port in the firewall for incoming traffic
      parameters:
      - description: Port to block
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.AllowPortRequest'
      produces:
      - application/json
      responses:
        "200":
          description: success, port, protocol
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid port or protocol
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to block port
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Block incoming traffic on a port
      tags:
      - Firewall
  /firewall/reset:
    post:
      description: Flushes all firewall rules and resets to default allow-all policy
      produces:
      - application/json
      responses:
        "200":
          description: status, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to reset firewall
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset firewall to defaults
      tags:
      - Firewall
  /firewall/restore:
    post:
      description: Restores firewall rules from persistent storage
      produces:
      - application/json
      responses:
        "200":
          description: status, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to restore rules
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restore firewall rules
      tags:
      - Firewall
  /firewall/rules:
    delete:
      consumes:
      - application/json
      description: Deletes an iptables firewall rule from the specified table and
        chain
      parameters:
      - description: Firewall rule to delete
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.AddRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request or missing chain
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to delete firewall rule
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete firewall rule
      tags:
      - Firewall
    get:
      description: Returns current iptables firewall rules with optional filtering
        by chain or table
      parameters:
      - description: Filter by chain (INPUT, OUTPUT, FORWARD)
        in: query
        name: chain
        type: string
      - description: Filter by table (filter, nat, mangle)
        in: query
        name: table
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'rules: map of rules, count: total'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid table or chain name
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get firewall rules
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get firewall rules
      tags:
      - Firewall
    post:
      consumes:
      - application/json
      description: Adds a new iptables firewall rule to the specified table and chain
      parameters:
      - description: Firewall rule
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.AddRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message, rule'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request or missing chain
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to add firewall rule
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Add firewall rule
      tags:
      - Firewall
  /firewall/save:
    post:
      description: Saves current firewall rules to persistent storage so they survive
        reboots
      produces:
      - application/json
      responses:
        "200":
          description: status, message
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to save rules
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Save firewall rules
      tags:
      - Firewall
  /firewall/service/{service}/allow:
    post:
      description: Opens firewall for a named service (ssh, http, https, etc.)
      parameters:
      - description: Service name (ssh, http, https, dns, etc.)
        in: path
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, service, message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Unknown service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to allow service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Allow a service through the firewall
      tags:
      - Firewall
  /firewall/status:
    get:
      description: Returns overall firewall status including NAT, IP forwarding, and
        rules count
      produces:
      - application/json
      responses:
        "200":
          description: enabled, nat_enabled, forwarding_enabled, rules_count
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get firewall status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Firewall service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get firewall status
      tags:
      - Firewall
  /fqdns:
    get:
      description: Returns all configured FQDNs with their associated apps, backend
        ports, and SSL status. Includes stats for total, with_ssl, and without_ssl
        counts.
      produces:
      - application/json
      responses:
        "200":
          description: 'fqdns: array of FQDN objects, stats: count summaries'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to query FQDNs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all FQDNs
      tags:
      - FQDNs
    post:
      consumes:
      - application/json
      description: Creates a new FQDN entry with DNS record (Pi-hole) and reverse
        proxy (NPM). Subdomain is automatically suffixed with .cubeos.cube domain.
      parameters:
      - description: FQDN creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.CreateFQDNRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created FQDN
          schema:
            $ref: '#/definitions/internal_handlers.FQDN'
        "400":
          description: Invalid request, missing subdomain, invalid port, or app not
            found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "409":
          description: FQDN already exists
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to create FQDN
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create an FQDN
      tags:
      - FQDNs
  /fqdns/{fqdn}:
    delete:
      description: Deletes an FQDN and removes associated DNS record from Pi-hole
      parameters:
      - description: Full FQDN or subdomain
        in: path
        name: fqdn
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'message: deletion confirmation, fqdn: deleted domain'
          schema:
            additionalProperties: true
            type: object
        "404":
          description: FQDN not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to delete FQDN
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete an FQDN
      tags:
      - FQDNs
    get:
      description: Returns a single FQDN by its full domain name or subdomain
      parameters:
      - description: Full FQDN (e.g., myapp.cubeos.cube) or subdomain (e.g., myapp)
        in: path
        name: fqdn
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: FQDN details
          schema:
            $ref: '#/definitions/internal_handlers.FQDN'
        "404":
          description: FQDN not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to query FQDN
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get an FQDN
      tags:
      - FQDNs
    put:
      consumes:
      - application/json
      description: Updates an existing FQDN's backend port and/or SSL status
      parameters:
      - description: Full FQDN or subdomain
        in: path
        name: fqdn
        required: true
        type: string
      - description: FQDN update request (partial update supported)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.UpdateFQDNRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated FQDN
          schema:
            $ref: '#/definitions/internal_handlers.FQDN'
        "400":
          description: Invalid JSON or invalid port
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: FQDN not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to update FQDN
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update an FQDN
      tags:
      - FQDNs
  /hal/logs/hardware:
    get:
      consumes:
      - application/json
      description: Returns all hardware-related logs from various sources
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.HardwareLogsResponse'
        "500":
          description: Failed to get hardware logs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get hardware logs
      tags:
      - Logs
  /hal/logs/hardware/{category}:
    get:
      consumes:
      - application/json
      description: Returns hardware logs filtered by category
      parameters:
      - description: Log category
        enum:
        - usb
        - pci
        - gpio
        - i2c
        - spi
        - thermal
        - power
        - storage
        in: path
        name: category
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.HardwareLogsResponse'
        "400":
          description: Category required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get hardware logs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get hardware logs by category
      tags:
      - Logs
  /hal/logs/journal:
    get:
      consumes:
      - application/json
      description: Returns systemd journal logs with filtering options
      parameters:
      - default: 100
        description: Number of lines to return
        in: query
        name: lines
        type: integer
      - description: Filter by systemd unit
        example: cubeos-api.service
        in: query
        name: unit
        type: string
      - description: Show logs since time
        example: 1h
        in: query
        name: since
        type: string
      - default: 6
        description: Filter by priority (0-7, lower is more severe)
        in: query
        name: priority
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.LogsResponse'
        "500":
          description: Failed to get journal logs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get journal logs
      tags:
      - Logs
  /hal/logs/kernel:
    get:
      consumes:
      - application/json
      description: Returns kernel ring buffer (dmesg) logs
      parameters:
      - default: 100
        description: Number of lines to return
        in: query
        name: lines
        type: integer
      - description: Filter by log level
        enum:
        - emerg
        - alert
        - crit
        - err
        - warn
        - notice
        - info
        - debug
        in: query
        name: level
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.LogsResponse'
        "500":
          description: Failed to get kernel logs
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get kernel logs
      tags:
      - Logs
  /hal/storage/devices:
    get:
      consumes:
      - application/json
      description: Returns list of all block storage devices (disks, partitions)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.StorageDevicesResponse'
        "500":
          description: Failed to list storage devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List storage devices
      tags:
      - Storage
  /hal/storage/devices/{device}:
    get:
      consumes:
      - application/json
      description: Returns detailed information about a specific storage device
      parameters:
      - description: Device name (without /dev/)
        example: sda
        in: path
        name: device
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.StorageDevice'
        "400":
          description: Device name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get storage device
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get storage device details
      tags:
      - Storage
  /hal/storage/devices/{device}/smart:
    get:
      consumes:
      - application/json
      description: Returns S.M.A.R.T. health data for a storage device
      parameters:
      - description: Device name (without /dev/)
        example: sda
        in: path
        name: device
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.SMARTInfo'
        "400":
          description: Device name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get SMART data
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get SMART data
      tags:
      - Storage
  /hal/storage/network-mounts:
    delete:
      consumes:
      - application/json
      description: Unmounts a network share by mount point path
      parameters:
      - description: Unmount parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.UnmountNetworkRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Path is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to unmount
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unmount network share
      tags:
      - Storage
    get:
      consumes:
      - application/json
      description: Returns list of active network mounts (SMB/NFS)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.MountsResponse'
        "500":
          description: Failed to list mounts
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List network mounts
      tags:
      - Storage
  /hal/storage/network-mounts/check:
    get:
      consumes:
      - application/json
      description: Checks if a specific path is currently mounted
      parameters:
      - description: Path to check
        example: /mnt/share
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.MountCheckResponse'
        "400":
          description: Path is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to check mount
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check if path is mounted
      tags:
      - Storage
  /hal/storage/network-mounts/nfs:
    post:
      consumes:
      - application/json
      description: Mounts an NFS network share
      parameters:
      - description: NFS mount parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.NFSMountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.MountResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to mount NFS share
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Mount NFS share
      tags:
      - Storage
  /hal/storage/network-mounts/smb:
    post:
      consumes:
      - application/json
      description: Mounts a Windows/Samba network share
      parameters:
      - description: SMB mount parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.SMBMountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.MountResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to mount SMB share
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Mount SMB share
      tags:
      - Storage
  /hal/storage/network-mounts/test:
    post:
      consumes:
      - application/json
      description: Tests connectivity to a network share without mounting
      parameters:
      - description: Mount test parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.TestMountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Connection test failed
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Test mount connection
      tags:
      - Storage
  /hal/storage/usage:
    get:
      consumes:
      - application/json
      description: Returns filesystem usage for all mounted partitions
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.StorageUsageResponse'
        "500":
          description: Failed to get storage usage
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get storage usage
      tags:
      - Storage
  /hal/storage/usb:
    get:
      consumes:
      - application/json
      description: Returns list of connected USB storage devices (flash drives, external
        disks)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.USBStorageResponse'
        "500":
          description: Failed to list USB storage
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List USB storage devices
      tags:
      - Storage
  /hal/storage/usb/{device}/eject:
    post:
      consumes:
      - application/json
      description: Safely ejects a USB storage device (unmount + power off port)
      parameters:
      - description: Device name (without /dev/)
        example: sdb
        in: path
        name: device
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Device name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to eject USB storage
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Eject USB storage
      tags:
      - Storage
  /hal/storage/usb/{device}/mount:
    post:
      consumes:
      - application/json
      description: Mounts a USB storage device to an auto-generated mount point
      parameters:
      - description: Device name (without /dev/)
        example: sdb1
        in: path
        name: device
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.MountResultResponse'
        "400":
          description: Device name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to mount USB storage
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Mount USB storage
      tags:
      - Storage
  /hal/storage/usb/{device}/unmount:
    post:
      consumes:
      - application/json
      description: Unmounts a USB storage device
      parameters:
      - description: Device name (without /dev/)
        example: sdb1
        in: path
        name: device
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Device name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to unmount USB storage
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unmount USB storage
      tags:
      - Storage
  /hal/storage/usb/class/{class}:
    get:
      consumes:
      - application/json
      description: Returns USB devices filtered by device class
      parameters:
      - description: USB device class
        enum:
        - storage
        - hub
        - hid
        - audio
        - video
        - wireless
        - serial
        - printer
        example: storage
        in: path
        name: class
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.USBDevicesByClassResponse'
        "400":
          description: Class is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to list USB devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List USB devices by class
      tags:
      - Storage
  /hal/storage/usb/devices:
    get:
      consumes:
      - application/json
      description: Returns list of all connected USB devices (not just storage)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.USBDevicesResponse'
        "500":
          description: Failed to list USB devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all USB devices
      tags:
      - Storage
  /hal/storage/usb/rescan:
    post:
      consumes:
      - application/json
      description: Forces a rescan of the USB bus to detect new devices
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to rescan USB
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Rescan USB bus
      tags:
      - Storage
  /hal/storage/usb/reset/{bus}/{device}:
    post:
      consumes:
      - application/json
      description: Resets a specific USB device by bus and device number
      parameters:
      - description: USB bus number
        example: 1
        in: path
        name: bus
        required: true
        type: integer
      - description: USB device number
        example: 4
        in: path
        name: device
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid bus or device number
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to reset USB device
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset USB device
      tags:
      - Storage
  /hal/storage/usb/tree:
    get:
      consumes:
      - application/json
      description: Returns hierarchical USB device tree showing hub/port relationships
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get USB tree
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get USB device tree
      tags:
      - Storage
  /hardware/battery:
    get:
      consumes:
      - application/json
      description: Returns UPS-HAT battery level, charging state, and estimated time
        remaining
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.BatteryStatus'
        "500":
          description: Failed to read battery status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get battery status
      tags:
      - Hardware
  /hardware/battery/quickstart:
    post:
      consumes:
      - application/json
      description: Initiates UPS-HAT battery quick start procedure for deeply discharged
        batteries
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to quick start battery
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Quick start battery
      tags:
      - Hardware
  /hardware/bootconfig:
    get:
      consumes:
      - application/json
      description: Returns Raspberry Pi boot configuration (config.txt settings)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.BootConfig'
        "500":
          description: Failed to read boot config
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get boot configuration
      tags:
      - Hardware
  /hardware/charging:
    post:
      consumes:
      - application/json
      description: Controls UPS-HAT battery charging (useful for battery conditioning)
      parameters:
      - description: Charging control
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.ChargingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set charging
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable or disable battery charging
      tags:
      - Hardware
  /hardware/eeprom:
    get:
      consumes:
      - application/json
      description: Returns Raspberry Pi EEPROM version and configuration
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.EEPROMInfo'
        "500":
          description: Failed to read EEPROM
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get EEPROM information
      tags:
      - Hardware
  /hardware/gpio:
    get:
      consumes:
      - application/json
      description: Returns status of all GPIO pins
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.GPIOPinsResponse'
        "500":
          description: Failed to read GPIO
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List GPIO pins
      tags:
      - Hardware
  /hardware/gpio/{pin}:
    get:
      consumes:
      - application/json
      description: Returns status of a specific GPIO pin
      parameters:
      - description: GPIO pin number
        example: 17
        in: path
        name: pin
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.GPIOPin'
        "400":
          description: Invalid pin number
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to read GPIO pin
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get GPIO pin status
      tags:
      - Hardware
    post:
      consumes:
      - application/json
      description: Sets a GPIO pin high or low
      parameters:
      - description: GPIO pin number
        example: 17
        in: path
        name: pin
        required: true
        type: integer
      - description: Pin value
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.GPIOSetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set GPIO pin
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set GPIO pin value
      tags:
      - Hardware
  /hardware/gpio/{pin}/mode:
    post:
      consumes:
      - application/json
      description: Sets a GPIO pin to input or output mode
      parameters:
      - description: GPIO pin number
        example: 17
        in: path
        name: pin
        required: true
        type: integer
      - description: Pin mode (input/output)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.GPIOModeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set GPIO mode
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set GPIO pin mode
      tags:
      - Hardware
  /hardware/i2c:
    get:
      consumes:
      - application/json
      description: Returns list of available I2C buses
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.I2CBusesResponse'
        "500":
          description: Failed to list I2C buses
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List I2C buses
      tags:
      - Hardware
  /hardware/i2c/{bus}/{addr}:
    get:
      consumes:
      - application/json
      description: Reads data from an I2C device at a specific address
      parameters:
      - description: I2C bus number
        example: 1
        in: path
        name: bus
        required: true
        type: integer
      - description: I2C device address (hex)
        example: "0x48"
        in: path
        name: addr
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.I2CDevice'
        "400":
          description: Invalid bus or address
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to read I2C device
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Read I2C device
      tags:
      - Hardware
  /hardware/i2c/{bus}/scan:
    get:
      consumes:
      - application/json
      description: Scans an I2C bus for connected devices
      parameters:
      - description: I2C bus number
        example: 1
        in: path
        name: bus
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.I2CScanResult'
        "400":
          description: Invalid bus number
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to scan I2C bus
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Scan I2C bus
      tags:
      - Hardware
  /hardware/overview:
    get:
      consumes:
      - application/json
      description: Returns comprehensive hardware status including temperature, throttle,
        power, and uptime
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.HardwareOverviewResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get hardware overview
      tags:
      - Hardware
  /hardware/power:
    get:
      consumes:
      - application/json
      description: Returns overall power status including input voltage and power
        source
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.PowerStatus'
        "500":
          description: Failed to read power status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get power status
      tags:
      - Hardware
  /hardware/reboot:
    post:
      consumes:
      - application/json
      description: Initiates a system reboot (requires admin privileges)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to initiate reboot
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reboot system
      tags:
      - Hardware
  /hardware/rtc:
    get:
      consumes:
      - application/json
      description: Returns Real-Time Clock status and current time
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.RTCStatus'
        "500":
          description: Failed to read RTC
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get RTC status
      tags:
      - Hardware
  /hardware/rtc/sync:
    post:
      consumes:
      - application/json
      description: Sets system time from Real-Time Clock (useful after boot without
        network)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to sync time
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Sync system time from RTC
      tags:
      - Hardware
  /hardware/rtc/wake:
    delete:
      consumes:
      - application/json
      description: Clears any scheduled wake alarm
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to clear wake alarm
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Clear RTC wake alarm
      tags:
      - Hardware
    post:
      consumes:
      - application/json
      description: Sets a wake alarm to power on the system at a specific time
      parameters:
      - description: Wake alarm time (ISO 8601)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.WakeAlarmRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid time format
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set wake alarm
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set RTC wake alarm
      tags:
      - Hardware
  /hardware/sensors:
    get:
      consumes:
      - application/json
      description: Returns readings from all detected sensors (1-Wire, BME280, etc.)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.AllSensorsResponse'
        "500":
          description: Failed to read sensors
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get all sensors
      tags:
      - Hardware
  /hardware/sensors/1wire:
    get:
      consumes:
      - application/json
      description: Returns list of detected 1-Wire devices (temperature sensors, etc.)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.OneWireDevicesResponse'
        "500":
          description: Failed to list 1-Wire devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List 1-Wire devices
      tags:
      - Hardware
  /hardware/sensors/1wire/{id}:
    get:
      consumes:
      - application/json
      description: Reads data from a specific 1-Wire device
      parameters:
      - description: 1-Wire device ID
        example: 28-000005a3b3f1
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.OneWireDevice'
        "400":
          description: Device ID required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to read 1-Wire device
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Read 1-Wire device
      tags:
      - Hardware
  /hardware/sensors/bme280:
    get:
      consumes:
      - application/json
      description: Returns temperature, humidity, and pressure from BME280 sensor
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.BME280Reading'
        "500":
          description: Failed to read BME280
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Read BME280 sensor
      tags:
      - Hardware
  /hardware/services/{name}:
    get:
      consumes:
      - application/json
      description: Returns status of a systemd service
      parameters:
      - description: Service name
        example: hostapd
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.ServiceStatus'
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get service status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get service status
      tags:
      - Hardware
  /hardware/services/{name}/restart:
    post:
      consumes:
      - application/json
      description: Restarts a systemd service
      parameters:
      - description: Service name
        example: hostapd
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to restart service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restart a service
      tags:
      - Hardware
  /hardware/services/{name}/start:
    post:
      consumes:
      - application/json
      description: Starts a systemd service
      parameters:
      - description: Service name
        example: hostapd
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to start service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start a service
      tags:
      - Hardware
  /hardware/services/{name}/stop:
    post:
      consumes:
      - application/json
      description: Stops a systemd service
      parameters:
      - description: Service name
        example: hostapd
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Service name required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to stop service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Stop a service
      tags:
      - Hardware
  /hardware/shutdown:
    post:
      consumes:
      - application/json
      description: Initiates a system shutdown (requires admin privileges)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to initiate shutdown
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Shutdown system
      tags:
      - Hardware
  /hardware/temperature:
    get:
      consumes:
      - application/json
      description: Returns current CPU temperature from thermal sensors
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.TemperatureResponse'
        "500":
          description: Failed to read temperature
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get CPU temperature
      tags:
      - Hardware
  /hardware/throttle:
    get:
      consumes:
      - application/json
      description: Returns CPU throttling status (under-voltage, frequency capping,
        thermal throttling)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.ThrottleStatus'
        "500":
          description: Failed to read throttle status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get throttle status
      tags:
      - Hardware
  /hardware/ups:
    get:
      consumes:
      - application/json
      description: Returns detailed UPS-HAT information including model, firmware,
        and capabilities
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.UPSInfo'
        "500":
          description: Failed to read UPS info
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get UPS information
      tags:
      - Hardware
  /hardware/uptime:
    get:
      consumes:
      - application/json
      description: Returns system uptime, load averages, and boot time
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.UptimeInfo'
        "500":
          description: Failed to read uptime
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get system uptime
      tags:
      - Hardware
  /hardware/watchdog:
    get:
      consumes:
      - application/json
      description: Returns hardware watchdog status and configuration
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.WatchdogInfo'
        "500":
          description: Failed to read watchdog status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get watchdog status
      tags:
      - Hardware
  /hardware/watchdog/enable:
    post:
      consumes:
      - application/json
      description: Enables the hardware watchdog timer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to enable watchdog
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable watchdog
      tags:
      - Hardware
  /hardware/watchdog/pet:
    post:
      consumes:
      - application/json
      description: Resets the hardware watchdog timer to prevent system reset
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to pet watchdog
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Pet the watchdog
      tags:
      - Hardware
  /logs/boot:
    get:
      description: Returns logs from a specific boot session
      parameters:
      - default: 0
        description: Boot ID (0=current, -1=previous)
        in: query
        name: boot
        type: integer
      - default: 500
        description: Number of lines
        in: query
        name: lines
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Boot log entries
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get boot logs
      tags:
      - Logs
  /logs/container/{container}:
    get:
      description: Returns logs for a specific Docker container
      parameters:
      - description: Container name or ID
        in: path
        name: container
        required: true
        type: string
      - default: 100
        description: Number of lines
        in: query
        name: lines
        type: integer
      - description: Since timestamp
        in: query
        name: since
        type: string
      - default: true
        description: Include timestamps
        in: query
        name: timestamps
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Container log entries
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ContainerLogsResponse'
      security:
      - BearerAuth: []
      summary: Get container logs
      tags:
      - Logs
  /logs/errors:
    get:
      description: Returns recent error log entries across all services
      parameters:
      - default: 50
        description: Number of lines
        in: query
        name: lines
        type: integer
      - default: 24
        description: Hours to look back
        in: query
        name: hours
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Recent error entries
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get recent errors
      tags:
      - Logs
  /logs/file:
    get:
      description: Reads content from a specific log file (restricted paths)
      parameters:
      - description: Log file path
        in: query
        name: path
        required: true
        type: string
      - default: 100
        description: Number of lines
        in: query
        name: lines
        type: integer
      - description: Text filter
        in: query
        name: grep
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Log file content
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Path parameter required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Read log file
      tags:
      - Logs
  /logs/journal:
    get:
      description: Returns system journal logs with optional filtering
      parameters:
      - description: Filter by systemd unit
        in: query
        name: unit
        type: string
      - default: 100
        description: Number of lines
        in: query
        name: lines
        type: integer
      - description: Since timestamp
        in: query
        name: since
        type: string
      - description: Until timestamp
        in: query
        name: until
        type: string
      - description: Log priority filter
        in: query
        name: priority
        type: string
      - description: Text filter
        in: query
        name: grep
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Journal log entries
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.LogsResponse'
      security:
      - BearerAuth: []
      summary: Get journal logs
      tags:
      - Logs
  /logs/kernel:
    get:
      description: Returns kernel (dmesg) log messages
      parameters:
      - default: 200
        description: Number of lines
        in: query
        name: lines
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Kernel log entries
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get kernel logs
      tags:
      - Logs
  /logs/service/{service}:
    get:
      description: Returns logs for a specific systemd service
      parameters:
      - description: Service name
        in: path
        name: service
        required: true
        type: string
      - default: 100
        description: Number of lines
        in: query
        name: lines
        type: integer
      - description: Since timestamp
        in: query
        name: since
        type: string
      - description: Log priority filter
        in: query
        name: priority
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service log entries
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get service logs
      tags:
      - Logs
  /logs/units:
    get:
      description: Returns list of available systemd units for log filtering
      produces:
      - application/json
      responses:
        "200":
          description: Available log units
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.LogUnitsResponse'
      security:
      - BearerAuth: []
      summary: List available log units
      tags:
      - Logs
  /media/audio:
    get:
      consumes:
      - application/json
      description: Returns list of all audio devices (playback and capture)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.AudioDevicesResponse'
        "500":
          description: Failed to list audio devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List audio devices
      tags:
      - Media
  /media/audio/capture:
    get:
      consumes:
      - application/json
      description: Returns list of audio capture devices (microphones)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.AudioDevicesListResponse'
        "500":
          description: Failed to list capture devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List capture devices
      tags:
      - Media
  /media/audio/mute:
    post:
      consumes:
      - application/json
      description: Mutes or unmutes the audio output
      parameters:
      - description: Mute state
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.SetMuteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set mute
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set mute state
      tags:
      - Media
  /media/audio/playback:
    get:
      consumes:
      - application/json
      description: Returns list of audio playback devices (speakers, headphones)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.AudioDevicesListResponse'
        "500":
          description: Failed to list playback devices
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List playback devices
      tags:
      - Media
  /media/audio/volume:
    get:
      consumes:
      - application/json
      description: Returns current audio volume level and mute state
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.VolumeInfo'
        "500":
          description: Failed to get volume
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get volume
      tags:
      - Media
    post:
      consumes:
      - application/json
      description: Sets the audio volume level (0-100)
      parameters:
      - description: Volume level
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.SetVolumeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid volume
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set volume
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set volume
      tags:
      - Media
  /media/cameras:
    get:
      consumes:
      - application/json
      description: Returns list of detected camera devices (USB, CSI)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.CameraDevicesResponse'
        "500":
          description: Failed to list cameras
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List cameras
      tags:
      - Media
  /media/cameras/capture:
    get:
      consumes:
      - application/json
      description: Returns the most recently captured image as binary data
      produces:
      - image/jpeg
      - image/png
      responses:
        "200":
          description: Captured image
          schema:
            type: file
        "404":
          description: No image captured
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get image
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get captured image
      tags:
      - Media
    post:
      consumes:
      - application/json
      description: Captures a still image from the camera
      parameters:
      - description: Capture parameters
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_handlers.CaptureImageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to capture image
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Capture image
      tags:
      - Media
  /media/cameras/info:
    get:
      consumes:
      - application/json
      description: Returns detailed information about the default camera
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.CameraInfo'
        "500":
          description: Failed to get camera info
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get camera info
      tags:
      - Media
  /media/cameras/stream:
    get:
      consumes:
      - application/json
      description: Returns information about the active video stream
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/cubeos-api_internal_hal.StreamInfo'
        "500":
          description: Failed to get stream info
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get stream info
      tags:
      - Media
  /media/cameras/stream/start:
    post:
      consumes:
      - application/json
      description: Starts an MJPEG video stream from the camera
      parameters:
      - description: Stream parameters
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_handlers.StartStreamRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StreamStartResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to start stream
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start video stream
      tags:
      - Media
  /media/cameras/stream/stop:
    post:
      consumes:
      - application/json
      description: Stops the active video stream
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.SuccessResponse'
        "500":
          description: Failed to stop stream
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Stop video stream
      tags:
      - Media
  /monitoring/alerts:
    get:
      description: Returns currently active monitoring alerts
      produces:
      - application/json
      responses:
        "200":
          description: Active alerts
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get current alerts
      tags:
      - Monitoring
  /monitoring/history:
    get:
      description: Returns historical monitoring statistics
      parameters:
      - default: 60
        description: Minutes of history (max 60)
        in: query
        name: minutes
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Statistics history
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.StatsHistoryResponse'
      security:
      - BearerAuth: []
      summary: Get statistics history
      tags:
      - Monitoring
  /monitoring/stats:
    get:
      description: Returns current system monitoring statistics
      produces:
      - application/json
      responses:
        "200":
          description: Monitoring statistics
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get monitoring statistics
      tags:
      - Monitoring
  /monitoring/thresholds:
    get:
      description: Returns current monitoring alert thresholds
      produces:
      - application/json
      responses:
        "200":
          description: Alert thresholds
          schema:
            additionalProperties:
              format: float64
              type: number
            type: object
      security:
      - BearerAuth: []
      summary: Get alert thresholds
      tags:
      - Monitoring
    put:
      consumes:
      - application/json
      description: Updates monitoring alert thresholds
      parameters:
      - description: Threshold values
        in: body
        name: thresholds
        required: true
        schema:
          additionalProperties:
            format: float64
            type: number
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Updated thresholds
          schema:
            additionalProperties:
              format: float64
              type: number
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set alert thresholds
      tags:
      - Monitoring
  /monitoring/websocket:
    get:
      description: Returns count of active WebSocket connections
      produces:
      - application/json
      responses:
        "200":
          description: WebSocket connections
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get WebSocket connections
      tags:
      - Monitoring
  /mounts:
    get:
      description: Returns all configured SMB and NFS network mounts with their current
        status
      produces:
      - application/json
      responses:
        "200":
          description: 'mounts: array of mount configurations'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: MOUNTS_LIST_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all configured mounts
      tags:
      - Mounts
    post:
      consumes:
      - application/json
      description: Creates a new SMB or NFS mount configuration. Does not mount automatically
        unless auto_mount is set.
      parameters:
      - description: Mount configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_managers.CreateMountRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created mount configuration
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.Mount'
        "400":
          description: INVALID_JSON or MOUNT_ADD_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Add a new mount configuration
      tags:
      - Mounts
  /mounts/{name}:
    delete:
      description: Removes a mount configuration by name. Unmounts first if currently
        mounted.
      parameters:
      - description: Mount name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'status: deleted, name: mount name'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: INVALID_NAME - Mount name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: MOUNT_NOT_FOUND - Mount not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: MOUNT_DELETE_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a mount configuration
      tags:
      - Mounts
    get:
      description: Returns details of a specific mount configuration by name
      parameters:
      - description: Mount name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Mount configuration details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.Mount'
        "400":
          description: INVALID_NAME - Mount name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: MOUNT_NOT_FOUND - Mount not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a specific mount configuration
      tags:
      - Mounts
  /mounts/{name}/mount:
    post:
      description: Mounts a previously configured SMB or NFS share to its local path
      parameters:
      - description: Mount name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'status: mounted, name, details'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: INVALID_NAME - Mount name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: MOUNT_NOT_FOUND - Mount not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: MOUNT_ERROR - Failed to mount
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Mount a configured share
      tags:
      - Mounts
  /mounts/{name}/status:
    get:
      description: Returns detailed status of a specific mount including whether it
        is currently mounted
      parameters:
      - description: Mount name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: name, type, local_path, is_mounted, auto_mount
          schema:
            additionalProperties: true
            type: object
        "400":
          description: INVALID_NAME - Mount name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: MOUNT_NOT_FOUND - Mount not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get mount status
      tags:
      - Mounts
  /mounts/{name}/unmount:
    post:
      description: Unmounts a currently mounted SMB or NFS share
      parameters:
      - description: Mount name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'status: unmounted, name'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: INVALID_NAME - Mount name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: MOUNT_NOT_FOUND - Mount not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: UNMOUNT_ERROR - Failed to unmount
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unmount a share
      tags:
      - Mounts
  /mounts/test:
    post:
      consumes:
      - application/json
      description: Tests connectivity to a remote SMB or NFS share without creating
        a mount configuration
      parameters:
      - description: Connection test parameters
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 'success: boolean, message or error'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: INVALID_JSON, MISSING_TYPE, or MISSING_PATH
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Test connection to remote share
      tags:
      - Mounts
  /network/ap/config:
    get:
      description: Returns the access point configuration
      produces:
      - application/json
      responses:
        "200":
          description: AP configuration
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.APConfig'
        "500":
          description: Failed to get config
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get AP configuration
      tags:
      - Network
    put:
      consumes:
      - application/json
      description: Updates the access point configuration (SSID, password, channel,
        hidden)
      parameters:
      - description: AP configuration
        in: body
        name: config
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Configuration updated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid configuration
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to update config
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "501":
          description: Not implemented  HAL support required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update AP configuration
      tags:
      - Network
  /network/ap/start:
    post:
      description: Starts the WiFi access point
      produces:
      - application/json
      responses:
        "200":
          description: AP started
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to start AP
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start access point
      tags:
      - Network
  /network/ap/stop:
    post:
      description: Stops the WiFi access point
      produces:
      - application/json
      responses:
        "200":
          description: AP stopped
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to stop AP
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Stop access point
      tags:
      - Network
  /network/connectivity:
    get:
      description: Tests network connectivity to various endpoints
      produces:
      - application/json
      responses:
        "200":
          description: Connectivity status
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Check connectivity
      tags:
      - Network
  /network/dns:
    get:
      description: Returns current DNS server configuration
      produces:
      - application/json
      responses:
        "200":
          description: DNS configuration
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.DNSConfig'
        "500":
          description: Failed to get DNS config
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get DNS configuration
      tags:
      - Network
    post:
      consumes:
      - application/json
      description: Updates DNS server configuration
      parameters:
      - description: DNS configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_managers.DNSConfig'
      produces:
      - application/json
      responses:
        "200":
          description: success, config
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set DNS config
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set DNS configuration
      tags:
      - Network
  /network/interfaces:
    get:
      description: Returns a list of network interfaces
      produces:
      - application/json
      responses:
        "200":
          description: Network interfaces
          schema:
            additionalProperties: true
            type: object
        "503":
          description: HAL service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List network interfaces
      tags:
      - Network
  /network/interfaces/detailed:
    get:
      description: Returns detailed information about all network interfaces
      produces:
      - application/json
      responses:
        "200":
          description: Detailed network interfaces
          schema:
            additionalProperties: true
            type: object
        "503":
          description: HAL service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get detailed network interfaces
      tags:
      - Network
  /network/internet:
    get:
      description: Tests internet connectivity and returns status
      produces:
      - application/json
      responses:
        "200":
          description: Connectivity status
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Check internet connectivity
      tags:
      - Network
  /network/mode:
    get:
      description: Returns the current network operating mode
      produces:
      - application/json
      responses:
        "200":
          description: Current network mode
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get current network mode
      tags:
      - Network
    post:
      consumes:
      - application/json
      description: Changes the network operating mode (offline, online_eth, online_wifi,
        server_eth, server_wifi)
      parameters:
      - description: Network mode configuration
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Mode changed with status
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid mode or missing parameters
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to change mode
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set network mode
      tags:
      - Network
  /network/modes:
    get:
      description: Returns list of available network operating modes
      produces:
      - application/json
      responses:
        "200":
          description: Available modes
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get available network modes
      tags:
      - Network
  /network/settings:
    get:
      description: Returns current network configuration
      produces:
      - application/json
      responses:
        "200":
          description: Network configuration
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.NetworkConfig'
      security:
      - BearerAuth: []
      summary: Get network settings
      tags:
      - Network
    put:
      consumes:
      - application/json
      description: Updates network configuration
      parameters:
      - description: Network settings
        in: body
        name: settings
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Updated configuration
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.NetworkConfig'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to update settings
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update network settings
      tags:
      - Network
  /network/status:
    get:
      description: Returns current network status including mode, connectivity, and
        interface states
      produces:
      - application/json
      responses:
        "200":
          description: Network status
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.NetworkStatus'
        "500":
          description: Failed to get status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get network status
      tags:
      - Network
  /network/traffic:
    get:
      description: Returns current traffic statistics for all interfaces
      produces:
      - application/json
      responses:
        "200":
          description: Traffic statistics
          schema:
            additionalProperties: true
            type: object
        "503":
          description: HAL service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get traffic statistics
      tags:
      - Network
  /network/traffic/{iface}/history:
    get:
      description: Returns historical traffic data for a specific interface
      parameters:
      - description: Interface name
        in: path
        name: iface
        required: true
        type: string
      - default: 1h
        description: History duration
        in: query
        name: duration
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Traffic history
          schema:
            additionalProperties: true
            type: object
        "503":
          description: HAL service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get traffic history
      tags:
      - Network
  /network/vpn/mode:
    get:
      description: Returns current VPN overlay mode
      produces:
      - application/json
      responses:
        "200":
          description: Current VPN mode
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get VPN mode
      tags:
      - Network
    post:
      consumes:
      - application/json
      description: Sets VPN overlay mode for network traffic
      parameters:
      - description: VPN mode configuration
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: VPN mode updated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid mode
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set VPN mode
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set VPN mode
      tags:
      - Network
  /network/warning/dismiss:
    post:
      description: Dismisses the warning shown when using server network modes
      produces:
      - application/json
      responses:
        "200":
          description: Warning dismissed
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Dismiss server mode warning
      tags:
      - Network
  /network/wifi/ap/clients:
    get:
      description: Returns list of clients connected to the access point
      produces:
      - application/json
      responses:
        "200":
          description: Connected clients
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get clients
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List AP clients
      tags:
      - Network
  /network/wifi/ap/clients/{mac}/block:
    post:
      description: Blocks a client from connecting to the access point
      parameters:
      - description: Client MAC address
        in: path
        name: mac
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Client blocked
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid MAC address
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to block client
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Block AP client
      tags:
      - Network
  /network/wifi/ap/clients/{mac}/kick:
    post:
      description: Disconnects a client from the access point
      parameters:
      - description: Client MAC address
        in: path
        name: mac
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Client disconnected
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid MAC address
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to kick client
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Kick AP client
      tags:
      - Network
  /network/wifi/ap/restart:
    post:
      description: Restarts the WiFi access point (hostapd service)
      produces:
      - application/json
      responses:
        "200":
          description: AP restarted
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to restart AP
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: HAL service unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restart access point
      tags:
      - Network
  /network/wifi/ap/status:
    get:
      description: Returns detailed WiFi access point status
      produces:
      - application/json
      responses:
        "200":
          description: AP status
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get AP status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get AP status
      tags:
      - Network
  /network/wifi/connect:
    post:
      consumes:
      - application/json
      description: Connects to a WiFi network as a client
      parameters:
      - description: WiFi credentials
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Connection successful
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request or missing SSID
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to connect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Connect to WiFi network
      tags:
      - Network
  /network/wifi/disconnect:
    post:
      description: Disconnects from the current WiFi network
      produces:
      - application/json
      responses:
        "200":
          description: Disconnected
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to disconnect
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disconnect from WiFi
      tags:
      - Network
  /network/wifi/saved:
    get:
      description: Returns list of saved WiFi network configurations
      produces:
      - application/json
      responses:
        "200":
          description: Saved networks
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get saved WiFi networks
      tags:
      - Network
  /network/wifi/saved/{ssid}:
    delete:
      description: Removes a saved WiFi network configuration
      parameters:
      - description: Network SSID
        in: path
        name: ssid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Network forgotten
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to forget network
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Forget saved WiFi network
      tags:
      - Network
  /network/wifi/scan:
    get:
      description: Scans for available WiFi networks in range
      parameters:
      - description: WiFi interface to use for scanning
        in: query
        name: interface
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Available WiFi networks
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to scan networks
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Scan WiFi networks
      tags:
      - Network
  /network/wifi/status:
    get:
      description: Returns current WiFi connection status
      produces:
      - application/json
      responses:
        "200":
          description: WiFi status
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get WiFi status
      tags:
      - Network
  /npm/hosts:
    get:
      description: Returns all configured Nginx Proxy Manager proxy hosts
      produces:
      - application/json
      responses:
        "200":
          description: 'hosts: array of proxy host configurations'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to fetch NPM hosts
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: NPM authentication not configured
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List NPM proxy hosts
      tags:
      - NPM
    post:
      consumes:
      - application/json
      description: Creates a new Nginx Proxy Manager proxy host with domain routing,
        forwarding, SSL, and caching options
      parameters:
      - description: Proxy host configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.CreateProxyHostRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created proxy host
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.NPMProxyHostExtended'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to create proxy host
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: NPM authentication not configured
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create NPM proxy host
      tags:
      - NPM
  /npm/hosts/{id}:
    delete:
      description: Deletes an Nginx Proxy Manager proxy host by ID
      parameters:
      - description: Proxy host ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: Proxy host deleted successfully
        "400":
          description: Host ID required or invalid
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to delete proxy host
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: NPM authentication not configured
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete NPM proxy host
      tags:
      - NPM
  /npm/status:
    get:
      description: Returns Nginx Proxy Manager service status including health, authentication
        state, and proxy host count
      produces:
      - application/json
      responses:
        "200":
          description: NPM status with online, authenticated, version, host_count,
            base_url
          schema:
            $ref: '#/definitions/internal_handlers.NPMStatus'
      security:
      - BearerAuth: []
      summary: Get NPM service status
      tags:
      - NPM
  /ports:
    get:
      description: Returns all port allocations with statistics. Ports are allocated
        in the 6xxx range per CubeOS port scheme.
      produces:
      - application/json
      responses:
        "200":
          description: 'ports: array of allocations, stats: allocation statistics'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get port allocations
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all port allocations
      tags:
      - Ports
    post:
      consumes:
      - application/json
      description: Allocates a port for an app. If port is 0 or omitted, auto-allocates
        from the user range (6100-6999). Reserved system ports cannot be allocated.
      parameters:
      - description: Port allocation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.AddPortRequest'
      produces:
      - application/json
      responses:
        "201":
          description: 'success: true, message, port: allocated port number'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request, missing app_id, invalid protocol, or reserved
            port
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "409":
          description: Port already allocated
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Allocate a port
      tags:
      - Ports
  /ports/{port}:
    delete:
      description: Removes a port allocation. Protocol defaults to TCP if not specified.
      parameters:
      - description: Port number
        in: path
        name: port
        required: true
        type: integer
      - description: Protocol (tcp or udp, defaults to tcp)
        in: query
        name: protocol
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid port number
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: Port not allocated
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to check or deallocate port
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Deallocate a port
      tags:
      - Ports
  /ports/reserved:
    get:
      description: 'Returns the list of reserved system ports and CubeOS port range
        definitions (system: 6000-6009, platform: 6010-6019, network: 6020-6029, ai:
        6030-6039, user: 6100-6999)'
      produces:
      - application/json
      responses:
        "200":
          description: 'reserved_ports: array with port/description, ranges: port
            range definitions'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get reserved system ports
      tags:
      - Ports
  /ports/stats:
    get:
      description: Returns statistics about port allocations including total allocated,
        available, and per-range breakdowns
      produces:
      - application/json
      responses:
        "200":
          description: Port allocation statistics
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get port stats
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get port allocation statistics
      tags:
      - Ports
  /power/charging:
    post:
      consumes:
      - application/json
      description: Enables or disables battery charging
      parameters:
      - description: Charging state
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Charging state updated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set charging
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "503":
          description: Power manager not available
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set charging state
      tags:
      - Power
  /power/status:
    get:
      description: Returns UPS battery and power status (Geekworm X1202)
      produces:
      - application/json
      responses:
        "200":
          description: Power/UPS status
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get power/UPS status
      tags:
      - Power
  /preferences:
    get:
      description: Returns current user preferences
      produces:
      - application/json
      responses:
        "200":
          description: User preferences
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.Preferences'
      security:
      - BearerAuth: []
      summary: Get user preferences
      tags:
      - Preferences
    post:
      consumes:
      - application/json
      description: Updates user preferences
      parameters:
      - description: Preference updates
        in: body
        name: preferences
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.PreferencesUpdate'
      produces:
      - application/json
      responses:
        "200":
          description: Updated preferences
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to save preferences
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user preferences
      tags:
      - Preferences
  /preferences/reset:
    post:
      description: Resets user preferences to defaults
      produces:
      - application/json
      responses:
        "200":
          description: Reset preferences
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Reset preferences
      tags:
      - Preferences
  /processes:
    get:
      description: Returns list of running processes
      parameters:
      - default: cpu
        description: Sort field (cpu, memory, pid)
        in: query
        name: sort_by
        type: string
      - default: 50
        description: Maximum processes to return
        in: query
        name: limit
        type: integer
      - description: Filter by process name
        in: query
        name: filter_name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Process list
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ProcessListResponse'
      security:
      - BearerAuth: []
      summary: List processes
      tags:
      - Processes
  /processes/{pid}:
    get:
      description: Returns details of a specific process by PID
      parameters:
      - description: Process ID
        in: path
        name: pid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Process details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ProcessInfo'
        "400":
          description: Invalid PID
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: Process not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get process details
      tags:
      - Processes
  /processes/{pid}/kill:
    post:
      description: Sends a signal to terminate a process
      parameters:
      - description: Process ID
        in: path
        name: pid
        required: true
        type: integer
      - default: SIGTERM
        description: Signal to send
        in: query
        name: sig
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Process killed
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "400":
          description: Invalid PID
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "403":
          description: Cannot kill protected process
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Kill process
      tags:
      - Processes
  /processes/{pid}/terminate:
    post:
      description: Sends SIGTERM to gracefully terminate a process
      parameters:
      - description: Process ID
        in: path
        name: pid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Process terminated
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "400":
          description: Invalid PID
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "403":
          description: Cannot terminate protected process
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Terminate process
      tags:
      - Processes
  /processes/search/{name}:
    get:
      description: Searches for processes by name
      parameters:
      - description: Process name to search
        in: path
        name: name
        required: true
        type: string
      - description: Exact match only
        in: query
        name: exact
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Matching processes
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Search processes
      tags:
      - Processes
  /processes/stats/summary:
    get:
      description: Returns overall process statistics
      produces:
      - application/json
      responses:
        "200":
          description: Process statistics
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get process statistics
      tags:
      - Processes
  /processes/top/cpu:
    get:
      description: Returns processes with highest CPU usage
      parameters:
      - default: 10
        description: Number of processes
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Top CPU processes
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ProcessListResponse'
      security:
      - BearerAuth: []
      summary: Top CPU processes
      tags:
      - Processes
  /processes/top/memory:
    get:
      description: Returns processes with highest memory usage
      parameters:
      - default: 10
        description: Number of processes
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Top memory processes
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ProcessListResponse'
      security:
      - BearerAuth: []
      summary: Top memory processes
      tags:
      - Processes
  /profiles:
    get:
      description: Returns all available profiles (built-in and custom) along with
        the currently active profile name
      produces:
      - application/json
      responses:
        "200":
          description: 'profiles: array of profile objects, active_profile: current
            profile name'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list profiles
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all profiles
      tags:
      - Profiles
    post:
      consumes:
      - application/json
      description: Creates a new custom profile with specified apps and configuration.
        Built-in profiles (minimal, standard, full) cannot be overwritten.
      parameters:
      - description: Profile creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.CreateProfileRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created profile
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.Profile'
        "400":
          description: Invalid request body or missing profile name
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to create profile
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a custom profile
      tags:
      - Profiles
  /profiles/{name}:
    get:
      description: Returns a single profile by name including its app configuration
        and resource limits
      parameters:
      - description: Profile name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Profile details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.Profile'
        "404":
          description: Profile not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a profile by name
      tags:
      - Profiles
  /profiles/{name}/apply:
    post:
      description: Applies a profile by starting apps defined in the profile and stopping
        apps not in the profile. Returns the list of started and stopped apps.
      parameters:
      - description: Profile name to apply
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'started: apps started, stopped: apps stopped, profile: applied
            profile name'
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Profile not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to apply profile
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Apply a profile
      tags:
      - Profiles
  /registry/cleanup:
    post:
      consumes:
      - application/json
      description: Identifies and optionally removes old/unused image tags. Use dry_run=true
        to preview. Requires running garbage-collect on the registry container to
        reclaim disk space.
      parameters:
      - description: 'Cleanup options (defaults: keep_tags=2, dry_run=false)'
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_handlers.CleanupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: success, dry_run, deleted_count, deleted_images, message with
            gc command
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Cleanup old images
      tags:
      - Registry
  /registry/disk-usage:
    get:
      description: Returns the disk space used by the local Docker registry storage
      produces:
      - application/json
      responses:
        "200":
          description: 'bytes: size in bytes, readable: human-readable size, path:
            storage path'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get registry disk usage
      tags:
      - Registry
  /registry/images:
    get:
      description: Returns all images stored in the local Docker registry with optional
        tag details
      parameters:
      - description: Include full tag list for each image
        in: query
        name: include_tags
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: 'images: array of RegistryImage, count, url'
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Failed to get image list (registry unavailable)
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List registry images
      tags:
      - Registry
  /registry/images/{name}:
    delete:
      description: Deletes a specific tag of an image from the local registry. Requires
        garbage collection to reclaim disk space.
      parameters:
      - description: Image name
        in: path
        name: name
        required: true
        type: string
      - description: Tag to delete (defaults to 'latest')
        in: query
        name: tag
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message: deletion confirmation'
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Image or tag not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to delete image
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete an image tag
      tags:
      - Registry
  /registry/images/{name}/tags:
    get:
      description: Returns all tags for a specific image in the local registry. Supports
        nested image names (e.g., library/nginx).
      parameters:
      - description: Image name (e.g., nginx or library/nginx)
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'name: image name, tags: array of tag strings'
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Image not found or failed to get tags
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get image tags
      tags:
      - Registry
  /registry/status:
    get:
      description: Returns the local Docker registry health status including online
        state, version, disk usage, and image count
      produces:
      - application/json
      responses:
        "200":
          description: Registry status with online, url, version, disk_usage, image_count
          schema:
            $ref: '#/definitions/internal_handlers.RegistryStatus'
      security:
      - BearerAuth: []
      summary: Get registry status
      tags:
      - Registry
  /services:
    get:
      description: Returns list of all Docker services/containers
      produces:
      - application/json
      responses:
        "200":
          description: Docker services
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get services
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List Docker services
      tags:
      - Services
  /services/{name}:
    get:
      description: Returns details of a specific Docker service/container
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service details
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Service not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Docker service
      tags:
      - Services
  /services/{name}/disable:
    post:
      description: Disables a Docker service from auto-start
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service disabled
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Cannot modify core service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to disable service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disable Docker service
      tags:
      - Services
  /services/{name}/enable:
    post:
      description: Enables a Docker service for auto-start
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service enabled
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Cannot modify core service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to enable service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable Docker service
      tags:
      - Services
  /services/{name}/restart:
    post:
      description: Restarts a Docker service/container
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service restarted
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ServiceAction'
        "500":
          description: Failed to restart service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Restart Docker service
      tags:
      - Services
  /services/{name}/start:
    post:
      description: Starts a Docker service/container
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service started
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ServiceAction'
        "403":
          description: Cannot modify core service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to start service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start Docker service
      tags:
      - Services
  /services/{name}/stop:
    post:
      description: Stops a Docker service/container
      parameters:
      - description: Service name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Service stopped
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ServiceAction'
        "403":
          description: Cannot modify core service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to stop service
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Stop Docker service
      tags:
      - Services
  /setup/apply:
    post:
      consumes:
      - application/json
      description: Applies the complete setup configuration, configuring all system
        components. This is the main setup completion endpoint.
      parameters:
      - description: Setup configuration to apply
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.SetupConfig'
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message, status: updated setup status'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to apply configuration
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      summary: Apply setup configuration
      tags:
      - Setup
  /setup/defaults:
    get:
      description: Returns default configuration values for the setup wizard based
        on detected hardware and environment
      produces:
      - application/json
      responses:
        "200":
          description: Default configuration values
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SetupConfig'
      summary: Get default configuration
      tags:
      - Setup
  /setup/dns-providers:
    get:
      description: Returns available DNS providers for Let's Encrypt DNS-01 challenge
        with required configuration fields
      produces:
      - application/json
      responses:
        "200":
          description: 'providers: array of DNS provider definitions, total: count'
          schema:
            additionalProperties: true
            type: object
      summary: Get DNS providers for Let's Encrypt
      tags:
      - Setup
  /setup/purposes:
    get:
      description: Returns available deployment purpose options (e.g., home server,
        expedition, emergency) with recommended configurations
      produces:
      - application/json
      responses:
        "200":
          description: 'purposes: array of purpose definitions, total: count'
          schema:
            additionalProperties: true
            type: object
      summary: Get deployment purposes
      tags:
      - Setup
  /setup/requirements:
    get:
      description: Returns device capabilities and system requirements including available
        memory, storage, and detected hardware
      produces:
      - application/json
      responses:
        "200":
          description: System requirements and capabilities
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SystemRequirements'
      summary: Get system requirements
      tags:
      - Setup
  /setup/reset:
    post:
      description: Resets the setup wizard to initial state, allowing reconfiguration.
        Admin only in production.
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to reset setup
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset setup wizard
      tags:
      - Setup
  /setup/skip:
    post:
      description: Skips the setup wizard and marks setup as complete using default
        configuration values
      produces:
      - application/json
      responses:
        "200":
          description: 'success: true, message, skipped: true'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to skip setup
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      summary: Skip setup wizard
      tags:
      - Setup
  /setup/status:
    get:
      description: Returns current setup progress including completion status, current
        step, and configured components
      produces:
      - application/json
      responses:
        "200":
          description: Setup status with completed flag, current step, and progress
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SetupStatus'
      summary: Get setup wizard status
      tags:
      - Setup
  /setup/steps:
    get:
      description: Returns all setup wizard steps with their order, titles, descriptions,
        and required fields
      produces:
      - application/json
      responses:
        "200":
          description: 'steps: array of step definitions, total: step count'
          schema:
            additionalProperties: true
            type: object
      summary: Get wizard step definitions
      tags:
      - Setup
  /setup/timezones:
    get:
      description: Returns all available timezones grouped by region for timezone
        selection during setup
      produces:
      - application/json
      responses:
        "200":
          description: 'timezones: flat list, by_region: grouped by region, total:
            count'
          schema:
            additionalProperties: true
            type: object
      summary: Get available timezones
      tags:
      - Setup
  /setup/validate:
    post:
      consumes:
      - application/json
      description: Validates a setup configuration without applying it. Returns validation
        errors and warnings.
      parameters:
      - description: Setup configuration to validate
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.SetupConfig'
      produces:
      - application/json
      responses:
        "200":
          description: Validation result with valid flag, errors, and warnings
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SetupValidation'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      summary: Validate setup configuration
      tags:
      - Setup
  /smb/shares:
    get:
      description: Returns all configured SMB shares
      produces:
      - application/json
      responses:
        "200":
          description: shares array
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list shares
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List SMB shares
      tags:
      - SMB
    post:
      consumes:
      - application/json
      description: Creates a new SMB share with the specified configuration
      parameters:
      - description: Share configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.CreateShareRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created share
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.SMBShare'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "409":
          description: Share already exists
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to create share
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create SMB share
      tags:
      - SMB
  /smb/shares/{name}:
    delete:
      description: Deletes an SMB share (does not delete the underlying data)
      parameters:
      - description: Share name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success, message
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Share not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to delete share
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete SMB share
      tags:
      - SMB
    get:
      description: Returns details for a specific SMB share
      parameters:
      - description: Share name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Share details
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.SMBShare'
        "404":
          description: Share not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to get share
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get SMB share details
      tags:
      - SMB
    put:
      consumes:
      - application/json
      description: Updates an existing SMB share configuration
      parameters:
      - description: Share name
        in: path
        name: name
        required: true
        type: string
      - description: Updated share configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.CreateShareRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated share
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.SMBShare'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: Share not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to update share
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update SMB share
      tags:
      - SMB
  /smb/status:
    get:
      description: Returns the status of the Samba/SMB service
      produces:
      - application/json
      responses:
        "200":
          description: running, version, workgroup, shares_count
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get SMB status
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get SMB service status
      tags:
      - SMB
  /storage:
    get:
      description: Returns storage overview and mount information
      produces:
      - application/json
      responses:
        "200":
          description: Storage information
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get storage overview
      tags:
      - Storage
  /storage/health:
    get:
      description: Returns S.M.A.R.T. health status for all disks
      produces:
      - application/json
      responses:
        "200":
          description: Disk health status
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get disk health
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get disk health
      tags:
      - Storage
  /storage/health/{device}:
    get:
      description: Returns S.M.A.R.T. health status for a specific disk
      parameters:
      - description: Device name (e.g., sda)
        in: path
        name: device
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Disk health details
          schema:
            $ref: '#/definitions/cubeos-api_internal_managers.DiskHealth'
        "500":
          description: Failed to get disk health
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get disk health by device
      tags:
      - Storage
  /system/hostname:
    get:
      description: Returns the system hostname
      produces:
      - application/json
      responses:
        "200":
          description: Hostname
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get hostname
      tags:
      - System
    post:
      consumes:
      - application/json
      description: Sets the system hostname
      parameters:
      - description: Hostname
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Hostname updated
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set hostname
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set hostname
      tags:
      - System
  /system/info:
    get:
      description: Returns detailed system information including hardware, OS, and
        memory
      produces:
      - application/json
      responses:
        "200":
          description: System information
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SystemInfo'
      security:
      - BearerAuth: []
      summary: Get system information
      tags:
      - System
  /system/reboot:
    post:
      description: Initiates system reboot with optional delay
      parameters:
      - default: 0
        description: Delay in minutes before reboot
        in: query
        name: delay
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Reboot scheduled
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "500":
          description: Failed to schedule reboot
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reboot system
      tags:
      - System
  /system/shutdown:
    post:
      description: Initiates system shutdown with optional delay
      parameters:
      - default: 0
        description: Delay in minutes before shutdown
        in: query
        name: delay
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Shutdown scheduled
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "500":
          description: Failed to schedule shutdown
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Shutdown system
      tags:
      - System
  /system/stats:
    get:
      description: Returns current system statistics including CPU, memory, and disk
        usage
      produces:
      - application/json
      responses:
        "200":
          description: System statistics
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SystemStats'
      security:
      - BearerAuth: []
      summary: Get system statistics
      tags:
      - System
  /system/temperature:
    get:
      description: Returns current CPU/SoC temperature
      produces:
      - application/json
      responses:
        "200":
          description: Temperature information
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.Temperature'
      security:
      - BearerAuth: []
      summary: Get CPU temperature
      tags:
      - System
  /system/timezone:
    get:
      description: Returns the current system timezone
      produces:
      - application/json
      responses:
        "200":
          description: Timezone
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get timezone
      tags:
      - System
    post:
      consumes:
      - application/json
      description: Sets the system timezone
      parameters:
      - description: Timezone
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Timezone updated
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.SuccessResponse'
        "400":
          description: Invalid request body or timezone
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: Failed to set timezone
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set timezone
      tags:
      - System
  /system/timezones:
    get:
      description: Returns list of available system timezones
      produces:
      - application/json
      responses:
        "200":
          description: Available timezones
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List available timezones
      tags:
      - System
  /vpn/configs:
    get:
      description: Returns all saved VPN configurations (WireGuard and OpenVPN)
      produces:
      - application/json
      responses:
        "200":
          description: 'configs: array of VPN configurations'
          schema:
            additionalProperties: true
            type: object
        "500":
          description: VPN_LIST_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all VPN configurations
      tags:
      - VPN
    post:
      consumes:
      - application/json
      description: Adds a new WireGuard or OpenVPN configuration. Config file content
        must be base64 encoded.
      parameters:
      - description: VPN configuration
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created VPN configuration
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.VPNConfig'
        "400":
          description: INVALID_JSON, MISSING_NAME, MISSING_TYPE, or MISSING_CONFIG
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: VPN_ADD_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Add a new VPN configuration
      tags:
      - VPN
  /vpn/configs/{name}:
    delete:
      description: Removes a VPN configuration by name. Disconnects first if currently
        active.
      parameters:
      - description: Configuration name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'status: deleted, name: config name'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: INVALID_NAME - Configuration name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: VPN_DELETE_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a VPN configuration
      tags:
      - VPN
    get:
      description: Returns details of a specific VPN configuration by name
      parameters:
      - description: Configuration name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: VPN configuration details
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.VPNConfig'
        "400":
          description: INVALID_NAME - Configuration name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: VPN_NOT_FOUND - Configuration not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a VPN configuration
      tags:
      - VPN
  /vpn/configs/{name}/auto-connect:
    put:
      consumes:
      - application/json
      description: Enables or disables auto-connect on boot for a VPN configuration
      parameters:
      - description: Configuration name
        in: path
        name: name
        required: true
        type: string
      - description: Auto-connect setting
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 'name, auto_connect: boolean'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: INVALID_NAME or INVALID_JSON
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: VPN_AUTOCONNECT_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set VPN auto-connect
      tags:
      - VPN
  /vpn/configs/{name}/connect:
    post:
      description: Establishes a VPN connection using the specified configuration
      parameters:
      - description: Configuration name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'status: connected, name, details'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: INVALID_NAME - Configuration name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "404":
          description: VPN_NOT_FOUND - Configuration not found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: VPN_CONNECT_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Connect to VPN
      tags:
      - VPN
  /vpn/configs/{name}/disconnect:
    post:
      description: Terminates the active VPN connection for the specified configuration
      parameters:
      - description: Configuration name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'status: disconnected, name'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: INVALID_NAME - Configuration name is required
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        "500":
          description: VPN_DISCONNECT_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disconnect from VPN
      tags:
      - VPN
  /vpn/public-ip:
    get:
      description: Returns the current public IP address (useful to verify VPN is
        working)
      produces:
      - application/json
      responses:
        "200":
          description: 'public_ip: current public IP address'
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: PUBLIC_IP_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get public IP address
      tags:
      - VPN
  /vpn/status:
    get:
      description: Returns the current VPN connection status including active connection
        details
      produces:
      - application/json
      responses:
        "200":
          description: Current VPN status
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.VPNStatus'
        "500":
          description: VPN_STATUS_ERROR
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get VPN connection status
      tags:
      - VPN
  /wizard/apply:
    post:
      consumes:
      - application/json
      description: Applies a setup profile to configure services
      parameters:
      - description: Profile configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/cubeos-api_internal_models.ApplyProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Profile applied
          schema:
            $ref: '#/definitions/cubeos-api_internal_models.ApplyProfileResponse'
        "400":
          description: Invalid request or profile
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Apply wizard profile
      tags:
      - Wizard
  /wizard/estimate:
    post:
      consumes:
      - application/json
      description: Estimates resource requirements for selected services
      parameters:
      - description: Service list
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Resource estimate
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Estimate resource usage
      tags:
      - Wizard
  /wizard/profiles:
    get:
      description: Returns available setup profiles
      produces:
      - application/json
      responses:
        "200":
          description: Available profiles
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List wizard profiles
      tags:
      - Wizard
  /wizard/recommendations:
    get:
      description: Returns service recommendations based on available resources
      parameters:
      - default: 4096
        description: Available RAM in MB
        in: query
        name: available_ram_mb
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Recommendations
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get service recommendations
      tags:
      - Wizard
  /wizard/services:
    get:
      description: Returns services available for wizard configuration
      produces:
      - application/json
      responses:
        "200":
          description: Available services
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List wizard services
      tags:
      - Wizard
  /ws/connections:
    get:
      description: Returns the number of active WebSocket connections
      produces:
      - application/json
      responses:
        "200":
          description: 'active_connections: number of connected clients'
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get WebSocket connection count
      tags:
      - WebSocket
  /ws/monitoring:
    get:
      description: Alias for /ws/stats - WebSocket endpoint for real-time system monitoring.
        Sends periodic JSON messages with system, network, and Docker statistics.
      parameters:
      - description: 'Update interval in seconds (1-60, default: 2)'
        in: query
        name: interval
        type: integer
      produces:
      - application/json
      responses:
        "101":
          description: Switching Protocols - WebSocket connection established
          schema:
            type: string
      summary: Real-time monitoring WebSocket
      tags:
      - WebSocket
  /ws/stats:
    get:
      description: WebSocket endpoint for real-time system statistics. Sends JSON
        messages containing CPU, memory, disk, temperature, network traffic, and Docker
        container stats at the specified interval.
      parameters:
      - description: 'Update interval in seconds (1-60, default: 2)'
        in: query
        name: interval
        type: integer
      produces:
      - application/json
      responses:
        "101":
          description: Switching Protocols - WebSocket connection established
          schema:
            type: string
      summary: Real-time system stats WebSocket
      tags:
      - WebSocket
securityDefinitions:
  BearerAuth:
    description: 'JWT token for authentication. Format: "Bearer {token}"'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
